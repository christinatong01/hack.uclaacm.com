<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a729928236d097dac740.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.md_container{font-family:Chivo,sans-serif}.md_container a{color:#0645ad;text-decoration:none}.md_container a:visited{color:#0b0080}.md_container a:hover{color:#06e}.md_container a:active{color:#faa700}.md_container a:focus{outline:thin dotted}.md_container a:active,.md_container a:hover{outline:0}.md_container p{margin:1em 0;font-family:Chivo,sans-serif}.md_container img{max-width:100%}.md_container h1,.md_container h2,.md_container h3,.md_container h4,.md_container h5,.md_container h6{margin:0;color:rgba(0,0,0,.87);font-family:Palanquin Dark,sans-serif}.md_container h1{font-weight:300;line-height:1;font-size:3.75rem;letter-spacing:-.00833em}.md_container h2,.md_container h3,.md_container h4{font-weight:300}.md_container h2{font-size:1.5em}.md_container h3{font-size:1.2em}.md_container h4{font-size:1em}.md_container h5{font-weight:500;font-size:.9em}.md_container blockquote{color:#666;margin:0;padding-left:3em;border-left:.5em solid #eee}.md_container hr{display:block;border:0;border-top:1px solid #aaa;border-bottom:1px solid #eee;margin:1em 0;padding:0}.md_container code,.md_container kbd,.md_container pre,.md_container samp{color:#000;font-family:monospace,monospace;_font-family:courier new,monospace;font-size:.98em}.md_container pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.md_container b,.md_container strong{font-weight:700;font-family:Chivo,sans-serif}.md_container dfn{font-style:italic}.md_container ins{color:#000;text-decoration:none}.md_container mark{color:#000;font-style:italic;font-weight:700}.md_container sub,.md_container sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.md_container sup{top:-.5em}.md_container sub{bottom:-.25em}.md_container ol,.md_container ul{margin:1em 0;padding:0 0 0 2em}.md_container li p:last-child{margin:0}.md_container dd{margin:0 0 0 2em}.md_container img{border:0;-ms-interpolation-mode:bicubic;vertical-align:middle}.md_container table{border-collapse:collapse;border-spacing:0}.md_container td{vertical-align:top}</style><meta name="generator" content="Gatsby 2.15.29"/><style id="jss-server-side">.MuiContainer-root{width:100%;box-sizing:border-box;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiContainer-root{padding-left:24px;padding-right:24px}}@media (min-width:960px){.MuiContainer-root{padding-left:32px;padding-right:32px}}@media (min-width:600px){.MuiContainer-fixed{max-width:600px}}@media (min-width:960px){.MuiContainer-fixed{max-width:960px}}@media (min-width:1280px){.MuiContainer-fixed{max-width:1280px}}@media (min-width:1920px){.MuiContainer-fixed{max-width:1920px}}@media (min-width:0px){.MuiContainer-maxWidthXs{max-width:444px}}@media (min-width:600px){.MuiContainer-maxWidthSm{max-width:600px}}@media (min-width:960px){.MuiContainer-maxWidthMd{max-width:960px}}@media (min-width:1280px){.MuiContainer-maxWidthLg{max-width:1280px}}@media (min-width:1920px){.MuiContainer-maxWidthXl{max-width:1920px}}.MuiTypography-root{margin:0}.MuiTypography-body2{font-size:1rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.43}.MuiTypography-body1{font-size:1.0714285714285714rem;font-family:Chivo,sans-serif;font-weight:400;line-height:1.5}@media (min-width:600px){.MuiTypography-body1{font-size:1.1667rem}}@media (min-width:960px){.MuiTypography-body1{font-size:1.1667rem}}@media (min-width:1280px){.MuiTypography-body1{font-size:1.1667rem}}.MuiTypography-caption{font-size:.8571428571428571rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.66}.MuiTypography-button{font-size:1rem;font-family:Chivo,sans-serif;font-weight:500;line-height:1.75;text-transform:uppercase}.MuiTypography-h1{font-size:3.9285714285714284rem;font-family:"Palanquin Dark",sans-serif;font-weight:300;line-height:1}@media (min-width:600px){.MuiTypography-h1{font-size:5.25rem}}@media (min-width:960px){.MuiTypography-h1{font-size:6.25rem}}@media (min-width:1280px){.MuiTypography-h1{font-size:6.75rem}}.MuiTypography-h2{font-size:2.642857142857143rem;font-family:"Palanquin Dark",sans-serif;font-weight:300;line-height:1}@media (min-width:600px){.MuiTypography-h2{font-size:3.5rem}}@media (min-width:960px){.MuiTypography-h2{font-size:4rem}}@media (min-width:1280px){.MuiTypography-h2{font-size:4.25rem}}.MuiTypography-h3{font-size:2.2142857142857144rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.04}@media (min-width:600px){.MuiTypography-h3{font-size:2.8846rem}}@media (min-width:960px){.MuiTypography-h3{font-size:3.125rem}}@media (min-width:1280px){.MuiTypography-h3{font-size:3.3654rem}}.MuiTypography-h4{font-size:1.7142857142857142rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.17}@media (min-width:600px){.MuiTypography-h4{font-size:2.1368rem}}@media (min-width:960px){.MuiTypography-h4{font-size:2.3504rem}}@media (min-width:1280px){.MuiTypography-h4{font-size:2.3504rem}}.MuiTypography-h5{font-size:1.3571428571428572rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.33}@media (min-width:600px){.MuiTypography-h5{font-size:1.5038rem}}@media (min-width:960px){.MuiTypography-h5{font-size:1.6917rem}}@media (min-width:1280px){.MuiTypography-h5{font-size:1.6917rem}}.MuiTypography-h6{font-size:1.2142857142857142rem;font-family:"Palanquin Dark",sans-serif;font-weight:500;line-height:1.6}@media (min-width:600px){.MuiTypography-h6{font-size:1.25rem}}@media (min-width:960px){.MuiTypography-h6{font-size:1.4063rem}}@media (min-width:1280px){.MuiTypography-h6{font-size:1.4063rem}}.MuiTypography-subtitle1{font-size:1.0714285714285714rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.75}@media (min-width:600px){.MuiTypography-subtitle1{font-size:1.1429rem}}@media (min-width:960px){.MuiTypography-subtitle1{font-size:1.1429rem}}@media (min-width:1280px){.MuiTypography-subtitle1{font-size:1.1429rem}}.MuiTypography-subtitle2{font-size:1rem;font-family:Poppins,sans-serif;font-weight:500;line-height:1.57}.MuiTypography-overline{font-size:.8571428571428571rem;font-family:Poppins,sans-serif;font-weight:400;line-height:2.66;text-transform:uppercase}.MuiTypography-srOnly{width:1px;height:1px;overflow:hidden;position:absolute}.MuiTypography-alignLeft{text-align:left}.MuiTypography-alignCenter{text-align:center}.MuiTypography-alignRight{text-align:right}.MuiTypography-alignJustify{text-align:justify}.MuiTypography-noWrap{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MuiTypography-gutterBottom{margin-bottom:.35em}.MuiTypography-paragraph{margin-bottom:16px}.MuiTypography-colorInherit{color:inherit}.MuiTypography-colorPrimary{color:#c960ff}.MuiTypography-colorSecondary{color:#ed3266}.MuiTypography-colorTextPrimary{color:rgba(0,0,0,.87)}.MuiTypography-colorTextSecondary{color:rgba(0,0,0,.54)}.MuiTypography-colorError{color:#f44336}.MuiTypography-displayInline{display:inline}.MuiTypography-displayBlock{display:block}.jss105{padding-top:16px;overflow-wrap:break-word;padding-bottom:16px}.jss106{color:#9e9e9e}html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:bolder}body{color:rgba(0,0,0,.87);margin:0;font-size:1rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.43;background-color:#fafafa}@media print{body{background-color:#fff}}body::-webkit-backdrop{background-color:#fafafa}body::backdrop{background-color:#fafafa}.MuiButtonBase-root{color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiButtonBase-root::-moz-focus-inner{border-style:none}.MuiButtonBase-root.Mui-disabled{cursor:default;pointer-events:none}.MuiButton-root{color:rgba(0,0,0,.87);padding:6px 16px;font-size:1rem;min-width:64px;box-sizing:border-box;transition:background-color 250ms cubic-bezier(.4,0,.2,1) 0s,box-shadow 250ms cubic-bezier(.4,0,.2,1) 0s,border 250ms cubic-bezier(.4,0,.2,1) 0s;font-family:Chivo,sans-serif;font-weight:500;line-height:1.75;border-radius:4px;text-transform:uppercase}.MuiButton-root:hover{text-decoration:none;background-color:rgba(0,0,0,.08)}.MuiButton-root.Mui-disabled{color:rgba(0,0,0,.26)}@media (hover:none){.MuiButton-root:hover{background-color:transparent}}.MuiButton-root:hover.Mui-disabled{background-color:transparent}.MuiButton-label{width:100%;display:inherit;align-items:inherit;justify-content:inherit}.MuiButton-text{padding:6px 8px}.MuiButton-textPrimary{color:#c960ff}.MuiButton-textPrimary:hover{background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiButton-textPrimary:hover{background-color:transparent}}.MuiButton-textSecondary{color:#ed3266}.MuiButton-textSecondary:hover{background-color:rgba(237,50,102,.08)}@media (hover:none){.MuiButton-textSecondary:hover{background-color:transparent}}.MuiButton-outlined{border:1px solid rgba(0,0,0,.23);padding:5px 15px}.MuiButton-outlined.Mui-disabled{border:1px solid rgba(0,0,0,.26)}.MuiButton-outlinedPrimary{color:#c960ff;border:1px solid rgba(201,96,255,.5)}.MuiButton-outlinedPrimary:hover{border:1px solid #c960ff;background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiButton-outlinedPrimary:hover{background-color:transparent}}.MuiButton-outlinedSecondary{color:#ed3266;border:1px solid rgba(237,50,102,.5)}.MuiButton-outlinedSecondary:hover{border:1px solid #ed3266;background-color:rgba(237,50,102,.08)}.MuiButton-outlinedSecondary.Mui-disabled{border:1px solid rgba(0,0,0,.26)}@media (hover:none){.MuiButton-outlinedSecondary:hover{background-color:transparent}}.MuiButton-contained{color:rgba(0,0,0,.87);box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12);background-color:#e0e0e0}.MuiButton-contained:hover{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background-color:#d5d5d5}.MuiButton-contained.Mui-focusVisible{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiButton-contained:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiButton-contained.Mui-disabled{color:rgba(0,0,0,.26);box-shadow:none;background-color:rgba(0,0,0,.12)}@media (hover:none){.MuiButton-contained:hover{box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12);background-color:#e0e0e0}}.MuiButton-contained:hover.Mui-disabled{background-color:rgba(0,0,0,.12)}.MuiButton-containedPrimary{color:#fff;background-color:#c960ff}.MuiButton-containedPrimary:hover{background-color:#352a3a}@media (hover:none){.MuiButton-containedPrimary:hover{background-color:#c960ff}}.MuiButton-containedSecondary{color:#fff;background-color:#ed3266}.MuiButton-containedSecondary:hover{background-color:#a52347}@media (hover:none){.MuiButton-containedSecondary:hover{background-color:#ed3266}}.MuiButton-colorInherit{color:inherit;border-color:currentColor}.MuiButton-textSizeSmall{padding:4px 5px;font-size:.9285714285714285rem}.MuiButton-textSizeLarge{padding:8px 11px;font-size:1.0714285714285714rem}.MuiButton-outlinedSizeSmall{padding:3px 9px;font-size:.9285714285714285rem}.MuiButton-outlinedSizeLarge{padding:7px 21px;font-size:1.0714285714285714rem}.MuiButton-containedSizeSmall{padding:4px 10px;font-size:.9285714285714285rem}.MuiButton-containedSizeLarge{padding:8px 22px;font-size:1.0714285714285714rem}.MuiButton-fullWidth{width:100%}.MuiButton-startIcon{display:inherit;margin-left:-4px;margin-right:8px}.MuiButton-endIcon{display:inherit;margin-left:8px;margin-right:-4px}.MuiButton-iconSizeSmall>:first-child{font-size:18px}.MuiButton-iconSizeMedium>:first-child{font-size:20px}.MuiButton-iconSizeLarge>:first-child{font-size:22px}.MuiGrid-container{width:100%;display:flex;flex-wrap:wrap;box-sizing:border-box}.MuiGrid-item{margin:0;box-sizing:border-box}.MuiGrid-zeroMinWidth{min-width:0}.MuiGrid-direction-xs-column{flex-direction:column}.MuiGrid-direction-xs-column-reverse{flex-direction:column-reverse}.MuiGrid-direction-xs-row-reverse{flex-direction:row-reverse}.MuiGrid-wrap-xs-nowrap{flex-wrap:nowrap}.MuiGrid-wrap-xs-wrap-reverse{flex-wrap:wrap-reverse}.MuiGrid-align-items-xs-center{align-items:center}.MuiGrid-align-items-xs-flex-start{align-items:flex-start}.MuiGrid-align-items-xs-flex-end{align-items:flex-end}.MuiGrid-align-items-xs-baseline{align-items:baseline}.MuiGrid-align-content-xs-center{align-content:center}.MuiGrid-align-content-xs-flex-start{align-content:flex-start}.MuiGrid-align-content-xs-flex-end{align-content:flex-end}.MuiGrid-align-content-xs-space-between{align-content:space-between}.MuiGrid-align-content-xs-space-around{align-content:space-around}.MuiGrid-justify-xs-center{justify-content:center}.MuiGrid-justify-xs-flex-end{justify-content:flex-end}.MuiGrid-justify-xs-space-between{justify-content:space-between}.MuiGrid-justify-xs-space-around{justify-content:space-around}.MuiGrid-justify-xs-space-evenly{justify-content:space-evenly}.MuiGrid-spacing-xs-1{width:calc(100% + 8px);margin:-4px}.MuiGrid-spacing-xs-1>.MuiGrid-item{padding:4px}.MuiGrid-spacing-xs-2{width:calc(100% + 16px);margin:-8px}.MuiGrid-spacing-xs-2>.MuiGrid-item{padding:8px}.MuiGrid-spacing-xs-3{width:calc(100% + 24px);margin:-12px}.MuiGrid-spacing-xs-3>.MuiGrid-item{padding:12px}.MuiGrid-spacing-xs-4{width:calc(100% + 32px);margin:-16px}.MuiGrid-spacing-xs-4>.MuiGrid-item{padding:16px}.MuiGrid-spacing-xs-5{width:calc(100% + 40px);margin:-20px}.MuiGrid-spacing-xs-5>.MuiGrid-item{padding:20px}.MuiGrid-spacing-xs-6{width:calc(100% + 48px);margin:-24px}.MuiGrid-spacing-xs-6>.MuiGrid-item{padding:24px}.MuiGrid-spacing-xs-7{width:calc(100% + 56px);margin:-28px}.MuiGrid-spacing-xs-7>.MuiGrid-item{padding:28px}.MuiGrid-spacing-xs-8{width:calc(100% + 64px);margin:-32px}.MuiGrid-spacing-xs-8>.MuiGrid-item{padding:32px}.MuiGrid-spacing-xs-9{width:calc(100% + 72px);margin:-36px}.MuiGrid-spacing-xs-9>.MuiGrid-item{padding:36px}.MuiGrid-spacing-xs-10{width:calc(100% + 80px);margin:-40px}.MuiGrid-spacing-xs-10>.MuiGrid-item{padding:40px}.MuiGrid-grid-xs-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xs-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xs-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xs-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xs-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xs-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xs-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xs-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xs-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xs-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xs-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xs-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xs-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xs-12{flex-grow:0;max-width:100%;flex-basis:100%}@media (min-width:600px){.MuiGrid-grid-sm-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-sm-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-sm-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-sm-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-sm-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-sm-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-sm-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-sm-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-sm-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-sm-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-sm-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-sm-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-sm-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-sm-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:960px){.MuiGrid-grid-md-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-md-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-md-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-md-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-md-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-md-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-md-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-md-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-md-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-md-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-md-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-md-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-md-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-md-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1280px){.MuiGrid-grid-lg-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-lg-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-lg-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-lg-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-lg-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-lg-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-lg-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-lg-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-lg-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-lg-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-lg-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-lg-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-lg-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-lg-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1920px){.MuiGrid-grid-xl-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xl-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xl-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xl-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xl-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xl-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xl-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xl-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xl-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xl-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xl-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xl-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xl-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xl-12{flex-grow:0;max-width:100%;flex-basis:100%}}.MuiIconButton-root{flex:0 0 auto;color:rgba(0,0,0,.54);padding:12px;overflow:visible;font-size:1.7142857142857142rem;text-align:center;transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;border-radius:50%}.MuiIconButton-root:hover{background-color:rgba(0,0,0,.08)}.MuiIconButton-root.Mui-disabled{color:rgba(0,0,0,.26);background-color:transparent}@media (hover:none){.MuiIconButton-root:hover{background-color:transparent}}.MuiIconButton-edgeStart{margin-left:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeStart{margin-left:-3px}.MuiIconButton-edgeEnd{margin-right:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeEnd{margin-right:-3px}.MuiIconButton-colorInherit{color:inherit}.MuiIconButton-colorPrimary{color:#c960ff}.MuiIconButton-colorPrimary:hover{background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiIconButton-colorPrimary:hover{background-color:transparent}}.MuiIconButton-colorSecondary{color:#ed3266}.MuiIconButton-colorSecondary:hover{background-color:rgba(237,50,102,.08)}@media (hover:none){.MuiIconButton-colorSecondary:hover{background-color:transparent}}.MuiIconButton-sizeSmall{padding:3px;font-size:1.2857142857142856rem}.MuiIconButton-label{width:100%;display:flex;align-items:inherit;justify-content:inherit}.MuiLink-underlineNone{text-decoration:none}.MuiLink-underlineHover{text-decoration:none}.MuiLink-underlineHover:hover{text-decoration:underline}.MuiLink-underlineAlways{text-decoration:underline}.MuiLink-button{border:0;cursor:pointer;margin:0;outline:0;padding:0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiLink-button::-moz-focus-inner{border-style:none}.MuiLink-button.Mui-focusVisible{outline:auto}.jss254{width:30px}.jss144{margin-top:32px;background-color:#352a3a}.jss145{color:#fff;padding:8px 24px;font-size:16px;text-align:center;align-items:center;font-family:Poppins,sans-serif}.jss146{display:flex;align-items:center;padding-top:8px;justify-content:center}.jss147{font-size:14px;text-transform:uppercase}.jss148{font-size:14px}.jss149{text-decoration:none}.jss150{text-transform:uppercase}.MuiPaper-root{color:rgba(0,0,0,.87);transition:box-shadow .3s cubic-bezier(.4,0,.2,1) 0s;background-color:#fff}.MuiPaper-rounded{border-radius:4px}.MuiPaper-elevation0{box-shadow:none}.MuiPaper-elevation1{box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.MuiPaper-elevation2{box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12)}.MuiPaper-elevation3{box-shadow:0 1px 8px 0 rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 3px 3px -2px rgba(0,0,0,.12)}.MuiPaper-elevation4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.MuiPaper-elevation5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.MuiPaper-elevation6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiPaper-elevation7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.MuiPaper-elevation8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiPaper-elevation9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.MuiPaper-elevation10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.MuiPaper-elevation11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.MuiPaper-elevation12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.MuiPaper-elevation13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.MuiPaper-elevation14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.MuiPaper-elevation15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.MuiPaper-elevation16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.MuiPaper-elevation17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.MuiPaper-elevation18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.MuiPaper-elevation19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.MuiPaper-elevation20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.MuiPaper-elevation21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.MuiPaper-elevation22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.MuiPaper-elevation23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.MuiPaper-elevation24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.MuiAppBar-root{width:100%;display:flex;z-index:1100;box-sizing:border-box;flex-shrink:0;flex-direction:column}.MuiAppBar-positionFixed{top:0;left:auto;right:0;position:fixed}.MuiAppBar-positionAbsolute{top:0;left:auto;right:0;position:absolute}.MuiAppBar-positionSticky{top:0;left:auto;right:0;position:-webkit-sticky;position:sticky}.MuiAppBar-positionStatic{position:static}.MuiAppBar-positionRelative{position:relative}.MuiAppBar-colorDefault{color:rgba(0,0,0,.87);background-color:#f5f5f5}.MuiAppBar-colorPrimary{color:#fff;background-color:#c960ff}.MuiAppBar-colorSecondary{color:#fff;background-color:#ed3266}.MuiToolbar-root{display:flex;position:relative;align-items:center}.MuiToolbar-gutters{padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiToolbar-gutters{padding-left:24px;padding-right:24px}}.MuiToolbar-regular{min-height:56px}@media (min-width:0px) and (orientation:landscape){.MuiToolbar-regular{min-height:48px}}@media (min-width:600px){.MuiToolbar-regular{min-height:64px}}.MuiToolbar-dense{min-height:48px}.MuiSvgIcon-root{fill:currentColor;width:1em;height:1em;display:inline-block;font-size:1.7142857142857142rem;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.MuiSvgIcon-colorPrimary{color:#c960ff}.MuiSvgIcon-colorSecondary{color:#ed3266}.MuiSvgIcon-colorAction{color:rgba(0,0,0,.54)}.MuiSvgIcon-colorError{color:#f44336}.MuiSvgIcon-colorDisabled{color:rgba(0,0,0,.26)}.MuiSvgIcon-fontSizeInherit{font-size:inherit}.MuiSvgIcon-fontSizeSmall{font-size:1.4285714285714284rem}.MuiSvgIcon-fontSizeLarge{font-size:2.5rem}.MuiCollapse-container{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1) 0s}.MuiCollapse-entered{height:auto;overflow:visible}.MuiCollapse-hidden{visibility:hidden}.MuiCollapse-wrapper{display:flex}.MuiCollapse-wrapperInner{width:100%}.jss50{color:inherit;text-decoration:inherit}.jss49{font-family:Poppins,sans-serif;font-weight:500}.jss1{cursor:pointer;display:flex;align-items:center;justify-content:center}.jss2{padding:0 6%;justify-content:space-between;background-color:#fff}.jss3{height:1.8rem;margin-right:8px}.jss4{height:1.2rem}.jss5{display:none}@media (max-width:629.95px){.jss5{display:inline}}.jss6{display:inline}@media (max-width:629.95px){.jss6{display:none}}.jss7{width:100%;display:none;z-index:1;overflow:hidden;position:fixed;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background-color:#f5f5f5}@media (max-width:629.95px){.jss7{display:inline}}.jss8{display:flex;padding:3%;flex-direction:column}</style><title data-react-helmet="true">Asynchronous JavaScript | UCLA ACM Hack</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Chivo:300,400|Palanquin+Dark|Palanquin" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="We are a student-run organization that aims to empower UCLA students to influence their world through code. We host events for coders of all skills levels."/><meta data-react-helmet="true" property="og:title" content="Asynchronous JavaScript"/><meta data-react-helmet="true" property="og:site_name" content="UCLA ACM Hack"/><meta data-react-helmet="true" property="og:description" content="We are a student-run organization that aims to empower UCLA students to influence their world through code. We host events for coders of all skills levels."/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="article:published_time" content="2019-10-15T00:00:00.000Z"/><meta data-react-helmet="true" name="article:section" content="Technology"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#c960ff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=34341e91aa74943594be4c84c3fc2b30"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-3f26d09e431571ffcd5c.js"/><link as="script" rel="preload" href="/app-2b5ff4a1e707a2a443e0.js"/><link as="script" rel="preload" href="/commons-19cb3cf207367cd498c6.js"/><link as="script" rel="preload" href="/styles-016ef4a6e65f04d097fd.js"/><link as="script" rel="preload" href="/component---src-components-post-post-template-js-34b75540b2127c93a49d.js"/><link as="fetch" rel="preload" href="/page-data/posts/fall2019/js-chats-2/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="MuiPaper-root MuiPaper-elevation4 MuiAppBar-root MuiAppBar-positionSticky MuiAppBar-colorPrimary"><div class="MuiToolbar-root MuiToolbar-regular jss2 MuiToolbar-gutters"><div class="jss1"><svg viewBox="0 0 350 350" class="jss3"><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path0_fill" fill="#C960FF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path1_fill" transform="translate(151.98 256.42)" fill="#FFF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path2_fill" transform="translate(111.11 86.9)" fill="#FFF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path3_fill" transform="translate(146.1 143.9)" fill="#C960FF"></use><defs><path id="acm-hack-logo_svg__acm-hack-logo_svg__path0_fill" d="M342.274 193.669L193.669 342.274c-10.302 10.301-27.036 10.301-37.338 0L7.726 193.669c-10.301-10.302-10.301-27.036 0-37.338L156.33 7.726c10.302-10.301 27.036-10.301 37.338 0L342.274 156.33c10.301 10.302 10.301 27.036 0 37.338z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path1_fill" d="M46.04 4.226c0 10.19-10.302 14.727-23.02 14.727C10.3 18.953 0 14.416 0 4.226c0-9.148 4.872-.595 23.02-.595s23.02-8.07 23.02.595z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path2_fill" d="M99.59 139.792c0 19.226-15.99 27.408-35.7 27.408s-35.701-9.855-35.701-27.408C28.189 112.681 0 103.161 0 63.89 0 28.598 28.598 0 63.89 0s63.89 28.598 63.89 63.89c0 42.358-28.19 52.659-28.19 75.902z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path3_fill" d="M44.329 47.054c8.107-5.132 13.462-14.131 13.462-24.432A28.71 28.71 0 0047.49.532c-5.02-4.24-2.269 18.148-6.434 22.09-4.425 4.165-19.747 4.016-24.321 0-4.314-3.83-3.05-24.954-6.434-22.09C4.016 5.812 0 13.77 0 22.622c0 10.264 5.355 19.3 13.462 24.432v36.631c0 6.174 5.69 8.888 15.433 8.888 9.744 0 15.434-2.157 15.434-8.888v-36.63z"></path></defs></svg><svg viewBox="0 0 187 26" class="jss4"><path d="M18.264 25.267l-1.39-4.03h-8.99l-1.392 4.03H0L8.704 1.229h7.42l8.669 24.038h-6.529zm-8.846-8.468h5.921l-2.96-8.536-2.961 8.536zm20.614 5.224c-2.473-2.322-3.71-5.258-3.71-8.81 0-3.55 1.237-6.475 3.71-8.774C32.53 2.117 35.575.956 39.165.956c2.782 0 5.255.706 7.42 2.117 2.164 1.411 3.674 3.369 4.53 5.873h-7.277c-.951-1.753-2.473-2.63-4.566-2.63s-3.746.627-4.959 1.879c-1.189 1.251-1.783 2.925-1.783 5.019 0 2.094.594 3.767 1.783 5.019 1.213 1.252 2.866 1.878 4.959 1.878 2.093 0 3.615-.877 4.566-2.63h7.277c-.856 2.505-2.366 4.462-4.53 5.873-2.165 1.412-4.638 2.117-7.42 2.117-3.591 0-6.635-1.15-9.133-3.448zM83.387 1.297v23.97h-6.1V11.745l-5.815 13.52h-4.53l-5.815-13.52v13.52h-6.1V1.297h6.992l7.206 16.526 7.17-16.526h6.992z" fill="#242424"></path><path d="M111.831 1.536h4.067v23.73h-4.067V14.785h-11.665v10.482H96.1V1.537h4.066V11.78h11.665V1.536zm22.37 18.95c1.189-1.16 1.784-2.708 1.784-4.643 0-1.935-.595-3.472-1.784-4.61-1.165-1.138-2.557-1.707-4.174-1.707-1.617 0-3.02.558-4.209 1.673-1.165 1.116-1.748 2.64-1.748 4.575s.583 3.495 1.748 4.678c1.189 1.161 2.592 1.741 4.209 1.741 1.617 0 3.009-.569 4.174-1.707zm-5.03 5.088c-2.616 0-4.816-.91-6.599-2.732-1.784-1.843-2.676-4.188-2.676-7.033 0-2.868.88-5.19 2.64-6.966 1.784-1.798 3.995-2.697 6.635-2.697 1.546 0 2.902.341 4.067 1.024 1.189.66 2.105 1.537 2.747 2.63V6.452h4.102v18.814h-4.102V21.75a7.725 7.725 0 01-2.747 2.8c-1.165.682-2.521 1.024-4.067 1.024zm24.534 0c-2.854 0-5.173-.888-6.957-2.664-1.783-1.775-2.675-4.12-2.675-7.033 0-2.937.892-5.292 2.675-7.068 1.808-1.775 4.127-2.663 6.957-2.663 2.378 0 4.34.546 5.886 1.639 1.569 1.07 2.627 2.606 3.174 4.61h-4.387c-.738-1.981-2.295-2.971-4.673-2.971-1.665 0-2.997.569-3.996 1.707-.975 1.115-1.462 2.686-1.462 4.712s.487 3.608 1.462 4.746c.999 1.138 2.331 1.707 3.996 1.707 2.354 0 3.912-.99 4.673-2.97h4.387c-.57 1.912-1.641 3.437-3.21 4.575-1.57 1.115-3.52 1.673-5.85 1.673zm17.18-.307h-4.067V0h4.067v14.682l7.134-8.229h5.637l-9.061 9.424 9.061 9.39h-5.494l-7.277-8.093v8.093z" fill="#c960ff"></path></svg></div><div class="jss6"><a class="jss50" href="/"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Home</span></button></a><a class="jss50" href="/blog"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Blog</span></button></a><a class="jss50" href="/events"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Events</span></button></a><a class="jss50" href="/team"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Team</span></button></a></div><button class="MuiButtonBase-root MuiIconButton-root jss5" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div></header><div class="jss7"><div class="MuiCollapse-container MuiCollapse-hidden" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><div class="jss8"><a class="jss50" href="/"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Home</span></button></a><a class="jss50" href="/blog"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Blog</span></button></a><a class="jss50" href="/events"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Events</span></button></a><a class="jss50" href="/team"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Team</span></button></a></div></div></div></div></div><article class="MuiContainer-root jss105 MuiContainer-maxWidthMd"><h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom">Asynchronous JavaScript</h1><h3 class="MuiTypography-root MuiTypography-h5">JavaScript Chats with ACM Hack Session 2</h3><p class="MuiTypography-root jss106 MuiTypography-body1">October 14, 2019</p><div class="md_container"><ul>
<li><a href="#definitions">Definitions</a></li>
<li><a href="#javascript-and-asynchrony">JavaScript and asynchrony</a></li>
<li>
<p><a href="#the-event-loop">The event loop</a></p>
<ul>
<li><a href="#framing-the-problem">Framing the problem</a></li>
<li><a href="#starting-the-operation">Starting the operation</a></li>
<li><a href="#getting-the-results-back-na%c3%afve-approach">Getting the results back: naïve approach</a></li>
<li><a href="#introducing-the-event-loop">Introducing the event loop</a></li>
<li><a href="#javascript-asynchrony-in-academic-terms">JavaScript asynchrony in academic terms</a></li>
</ul>
</li>
<li>
<p><a href="#introducing-javascript-promises">Introducing JavaScript Promises</a></p>
<ul>
<li><a href="#creating-promises">Creating Promises</a></li>
<li><a href="#-application-implementing-jspromiseresolve">🍏 Application: Implementing <code class="language-js">Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a></li>
<li><a href="#consuming-promises">Consuming promises</a></li>
</ul>
</li>
<li><a href="#jsasync-functions"><code class="language-js"><span class="token keyword">async</span></code> functions</a></li>
</ul>
<h2 id="definitions"><a href="#definitions" aria-label="definitions permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Definitions</h2>
<blockquote>
<p>What does it mean for an operation to be synchronous, or asynchronous?</p>
</blockquote>
<p>Let’s first get on the same page with regards to the terminology. For the
purpose of this workshop, we define an operation to be <strong>synchronous</strong> or
<strong>blocking</strong> if the operation would wait until the desired result is
available, and then return it. A classic example for a synchronous operation
would be POSIX’s <a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/read.html"><code class="language-c"><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> system call by default, but Java’s
<a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/InputStream.html#read()"><code class="language-java"><span class="token class-name">InputStream</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> acts in a similar way. Consider, for instance,
this piece of Java code:</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">int</span> ch <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The <code class="language-java"><span class="token class-name">InputStream</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function would return the next byte of data on
standard input directly. On the other hand, if the standard input is
connected to a terminal and the user does not type anything, then this
function is essentially going to wait – and <em>block</em> your application –
forever. Assuming your application is single-threaded, there is no way for it
to do any work until the user types something.</p>
<p>On the other end of the spectrum, we have <strong>asynchronous</strong>, or
<strong>non-blocking</strong>, operations. The defining characteristic of this class of
operations is that they would <em>not</em> wait for data to become available, but
variations exist on how data is actually delivered. Some, like POSIX’s
<a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/read.html"><code class="language-c"><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> system call using non-blocking mode, returns an error if the
data is not yet available or the data if it is. Others, like many APIs found
in JavaScript, would notify the application when the data becomes available
at a future time.</p>
<p>The main benefit of making operations asynchronous is <em>enabling concurrency</em>.
While the operation is being carried out in the background, because the
function returns quickly we could continue doing computation while waiting
for the background task to finish. We could also launch multiple asynchronous
operations at the same time.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Web browsers</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://example.com/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// At some future time, when a preliminary response has been received, this</span>
  <span class="token comment">// function will be called.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Response status:'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This will be printed first, as fetch() immediately returns after kicking off</span>
<span class="token comment">// the HTTP request.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'After call to fetch()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Prints:</span>
<span class="token comment">// After call to fetch()</span>
<span class="token comment">// Response status: 200</span></code></pre></div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Node.js</span>
fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// At some future time, when a file descriptor has been opened, this function</span>
  <span class="token comment">// will be called.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File descriptor opened:'</span><span class="token punctuation">,</span> fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'After call to fs.open()'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Prints:</span>
<span class="token comment">// After call to fs.open()</span>
<span class="token comment">// File descriptor opened: 3</span></code></pre></div>
<h2 id="javascript-and-asynchrony"><a href="#javascript-and-asynchrony" aria-label="javascript and asynchrony permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JavaScript and asynchrony</h2>
<blockquote>
<p>Why is JavaScript asynchronous?</p>
</blockquote>
<p>First, a point of clarification. People often say that JavaScript is
inherently asynchronous. But that’s not strictly true. Until the introduction
of Promises in ES2015 (also known as ES6), the JavaScript <em>language</em> was
completely synchronous. But <em>embedders</em> of JavaScript, like web browsers and
Node.js, have provided useful APIs that are available only in asynchronous
form.</p>
<p>That doesn’t quite answer our question though. Why do web browsers decide to
provide so many asynchronous APIs?</p>
<p>As it turns out, there are two factors that went into this design decision:</p>
<ol>
<li>JavaScript is generally used in a single-threaded setting, and</li>
<li>a lot of the Web APIs listed have performance that is <em>I/O-bound</em> rather
than <em>CPU-bound</em>.</li>
</ol>
<p>Let’s consider the first point. JavaScript in browsers is single-threaded, so
all of the UI updates and JavaScript execution happen on the same thread. If
the <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> operation had been synchronous, then the main JavaScript
thread would not be able to execute any code until <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> returns.</p>
<p>If we give this a moment of thought, it could seem quite disastrous. Imagine
trying to watch a 2-hour-long movie on YouTube, where the page tries to
<code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> the video. Because <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> blocks JavaScript execution,
<strong>the entire page would freeze until the movie download completes</strong>! In other
words, such a <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function wouldn’t be too different from an
infinite loop: it would block even visual updates like scrolling from
working.</p>
<div align=center>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/824d5fe09106354ae606dae3bbce2920/26bc0/sync.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.84916201117319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABk0lEQVQoz41T207jMBDN/3/U0kI3UAQSYh8QXXhAArFqII5jx9exD+M07Sq0D0x04rE916NxlXPGAeXLCc45OO9AiaazuQ0RYRiG0c5aixgjjDEjKnyXDDTbBrKVIJ9wSigQpJDoRAchBPq+R9M0UEqh+iB2Th36xAbUwkDDeIMbe4WbUKN2C1y6JVbuF9b+Amu3Qu0XuE+3uFO3oEyzZFWER8wBhDiu/OfSNXQUUFmNiVSW46pzDzOdmTxgcC23H3eNTZRUjvfEnUVOFKZkbT/gTdCBAtqrbGf8/2r+vJZuvgVUzJMJCdIlNMPOcys06hfNWrmLeFdh1DU7v8qiExJHP38Ss4Bjy6dIt2ZAnvTi/9yVcMfiuRiayj9UmEKHFFqkqBg93zgeCQ0r1oiyhu2u8bH9DdOuEOQlvFjCt2cI3QLdv+Uxh5kMc+MPoGg5M89h/wCnHuDVBlE/8vqX9xsG6/qZ94/QYjOr8GTLznsYHlbLnO5hbAEdodx9frbjgO+DVrNXkDN+Ljvb8jrKQO8DfgF88VgwiX0uvgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A synchronous operation, illustrated by three parallel timelines of network
card usage, CPU usage, and JavaScript busyness"
        title="A synchronous operation, illustrated by three parallel timelines of network
card usage, CPU usage, and JavaScript busyness"
        src="/static/824d5fe09106354ae606dae3bbce2920/dbb61/sync.png"
        srcset="/static/824d5fe09106354ae606dae3bbce2920/19bd1/sync.png 163w,
/static/824d5fe09106354ae606dae3bbce2920/d3bcb/sync.png 325w,
/static/824d5fe09106354ae606dae3bbce2920/dbb61/sync.png 650w,
/static/824d5fe09106354ae606dae3bbce2920/6b691/sync.png 975w,
/static/824d5fe09106354ae606dae3bbce2920/91670/sync.png 1300w,
/static/824d5fe09106354ae606dae3bbce2920/26bc0/sync.png 1790w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p><em>A synchronous <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</em></p>
</div>
<p>Now, onto the second point. If <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is synchronous, the network card
could do all the work in the background until the entire response is stored
in memory. In other words, we <em>delay</em> CPU processing until a future point in
time, thus freeing the CPU for other tasks while the network transmission is
being completed.</p>
<p>On the other hand, with CPU-bound tasks like computing cryptographic hashes,
simply delaying its execution doesn’t quite help as we still need to do the
work on the main thread – only the timing would be different.</p>
<div align=center>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e7e513b46898cd9c308ecd76bc4d3039/26bc0/async.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 64.97206703910615%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACE0lEQVQ4y31TO4/TQBDOz6U7IQr+AQUNSFQI0dAgREV7BS+hCHQkpDnQ8YoQknNnJ/aun/v++LxOnAQd7GrsWc/sN/PNjCchBBwJtw8exhpYZ+GCi+cj4e5UC6UVjKGftdBaQymFCa5ZzjpkaYZOKh5w7WpFR3uHfJ1DlhJ5nkeZ2GCwcRmkF6h8icLl0NzrJsO0e4OPeoqpej3KTL/HO/USn9wHLMwZ0vbqKNAkkIKDoVj0Wh/AcjdNyQCMHiSDFSgpgkHr7Vk6gZZ600qWCmPJJv1BWzLzw9tsKSabGkUz6IwJ13/vfcxW57qqgJ9pPfjsAD0flWaRrYdUHkU7eH+7lDhPNSO0KDoHQRtUg1XlUJkQfb6uDS5WZdR7nEgZ/1iq7QZH1cEVAkFKuHUKXzcIbILbrGOqqlMxs12WQw1NDt+LlVF6bpX8DdP8ILJD0CXtJUIPRnswVaTvdYKyWI5g26aQu9f8wIvBUmdLDGeqk+iqFFYFWE+aHCHHslijUBecQZZBKzalzkdWMcO/qcYmcUg1q9/x0iq5hEgS6GIDsc6QriTqioAsRe8jywpCiMOxOf5TCDkaLYFf3b+NX49OYE7vYvb8Hs5mC5RSHiTgOWLNnvJhuvv2+6gLRp8/uInq4QnE41tYvn2G8y/fR8Ddnf9S3jsG9NOxPDtF8uQGsqd3MH8xx+fFBUvRHM3enh3wB40i7OGF8DCWAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="An asynchronous operation, illustrated by three parallel timelines of
network card usage, CPU usage, and JavaScript busyness"
        title="An asynchronous operation, illustrated by three parallel timelines of
network card usage, CPU usage, and JavaScript busyness"
        src="/static/e7e513b46898cd9c308ecd76bc4d3039/dbb61/async.png"
        srcset="/static/e7e513b46898cd9c308ecd76bc4d3039/19bd1/async.png 163w,
/static/e7e513b46898cd9c308ecd76bc4d3039/d3bcb/async.png 325w,
/static/e7e513b46898cd9c308ecd76bc4d3039/dbb61/async.png 650w,
/static/e7e513b46898cd9c308ecd76bc4d3039/6b691/async.png 975w,
/static/e7e513b46898cd9c308ecd76bc4d3039/91670/async.png 1300w,
/static/e7e513b46898cd9c308ecd76bc4d3039/26bc0/async.png 1790w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p><em>An asynchronous <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</em></p>
</div>
<blockquote>
<p>Here’s a question for you. We’ve considered why browsers have so many
asynchronous APIs. Can you think of why Node.js, a JavaScript runtime used
to write servers, would be similar in that way?</p>
<details><summary>Click here for an answer.</summary>
Node.js servers, like most web servers, are commonly expected to handle a
large number of simultaneous requests. Synchronous operations would not
allow for any concurrency between requests, as they require the server to
finish one request before starting another almost by definition. This makes
asynchrony essential.
<p>Additionally, Node.js servers are similar to the browser in that they are
quite I/O-heavy as well. Web servers do a <em>lot</em> of I/O, from communicating
with the client using HTTP, to reading or writing to a file system, or
talking to a remote database server. The ability to do I/O concurrently
would be a great boon.</p>
</details>
</blockquote>
<h2 id="the-event-loop"><a href="#the-event-loop" aria-label="the event loop permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The event loop</h2>
<blockquote>
<p>How are asynchronous operations implemented in JavaScript runtimes? </p>
</blockquote>
<p>As we have seen earlier, asynchronous operations in JavaScript generally has the following form:</p>
<ol>
<li>Upon the function call, an operation is started in the background, and the
function immediately returns.</li>
<li>The JavaScript code right after the function call runs, without the
results of the operation being available.</li>
<li>At some future time, when the operation completes, a <em>callback function</em>
which receives the results is called.</li>
</ol>
<p>Let’s take a deeper look at how this process works, by implementing our very
own asynchronous <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function. 🍏🍏🍏</p>
<h3 id="framing-the-problem"><a href="#framing-the-problem" aria-label="framing the problem permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Framing the problem</h3>
<p>The actual <code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function in browsers returns a JavaScript
<code class="language-js">Promise</code> object, which we will get to soon. For now, let’s try to make a
very simple <code class="language-js"><span class="token function">basicFetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function that takes a URL and a callback
function, and doesn’t return anything.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">basicFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="starting-the-operation"><a href="#starting-the-operation" aria-label="starting the operation permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Starting the operation</h3>
<p>We often say that JavaScript is a single-threaded programming language. This
is true, but only for JavaScript execution, so that we don’t have to worry
about synchronization (race conditions) and other lower-level issues.
Browsers and other JavaScript runtimes often use multi-threading and other
techniques to parallelize I/O.</p>
<p>With this in mind, let’s start writing this function!</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// This function runs in a worker thread, where we can use synchronous</span>
<span class="token comment">// operations without blocking the main thread.</span>
<span class="token keyword">function</span> <span class="token function">fetchWorker</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* … */</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">basicFetch</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Get an available worker thread.</span>
  <span class="token keyword">const</span> thread <span class="token operator">=</span> <span class="token function">getAvailableThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Send the task type as well as the parameters to the worker thread. The</span>
  <span class="token comment">// worker thread would then call fetchWorker(url, callback) immediately.</span>
  thread<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>fetchWorker<span class="token punctuation">,</span> url<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// The fetch has been started, so our job here is done.</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="getting-the-results-back-naïve-approach"><a href="#getting-the-results-back-na%C3%AFve-approach" aria-label="getting the results back naïve approach permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting the results back: naïve approach</h3>
<p>Well, that hopefully wasn’t too difficult to understand. Let’s now write the
<code class="language-js"><span class="token function">fetchWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function.</p>
<p>After the I/O thread finishes the task, it would need to call the JavaScript
callback function to pass the data back to JavaScript code. Let’s do that.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// This function runs in a worker thread.</span>
<span class="token keyword">function</span> <span class="token function">fetchWorker</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Fetch the URL synchronously, and put its result in `buffer`.</span>
  <span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token function">fetchURLSync</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">callback</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>But wait… This function runs on a separate thread. By calling the JavaScript
callback directly from a worker thread, we would be violating the JavaScript
single-thread constraint, and cause all sorts of race conditions in a language
not prepared to deal with multithreading. No!!!</p>
<h3 id="introducing-the-event-loop"><a href="#introducing-the-event-loop" aria-label="introducing the event loop permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introducing the event loop</h3>
<blockquote>
<p>This section is also available in video form on
<a href="https://youtu.be/cCOL7MC4Pl0?t=430">https://youtu.be/cCOL7MC4Pl0?t=430</a>. Jake Archibald can explain it several
fold better than I can.</p>
</blockquote>
<p>To solve this problem, people invented the “event loop” approach. Instead of
calling the JavaScript callback directly, the worker thread would enqueue the
callback in a task queue that belongs to the JavaScript main thread.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// This function runs in a worker thread.</span>
<span class="token keyword">function</span> <span class="token function">fetchWorker</span><span class="token punctuation">(</span><span class="token parameter">loop<span class="token punctuation">,</span> url<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Fetch the URL synchronously, and put its result in `buffer`.</span>
  <span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token function">fetchURLSync</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Assume enqueueTask() does all the synchronization (locking) necessary to</span>
  <span class="token comment">// prevent race conditions.</span>
  loop<span class="token punctuation">.</span><span class="token function">enqueueTask</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>On the main thread, a mechanism known as the “event loop” repeatedly polls
the task queue to see if there are any outstanding tasks on the task queue.
If so, it would run the tasks in FIFO order. However, it would only do so
after the existing functions all finish executing so as to not interrupt
execution of the current JavaScript function – in other words, when the
JavaScript stack becomes empty.</p>
<p>Network responses is only one type of task. Web browsers have all sorts of
APIs that hook onto the event loop, like <code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and DOM events.</p>
<div align="center">
  <img src="https://i.imgur.com/rnQEY7o.png" alt="Schema of interactions
  between JavaScript, Web APIs, and the event loop" width="600"><br>
  <em>JavaScript, Web APIs, and the event loop.</em>
</div>
<h3 id="javascript-asynchrony-in-academic-terms"><a href="#javascript-asynchrony-in-academic-terms" aria-label="javascript asynchrony in academic terms permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JavaScript asynchrony in academic terms</h3>
<p>In systems design, this approach to asynchronous programming using event
loops is often given two epithets:</p>
<ol>
<li><strong>Event-driven</strong>. This essentially means that the program wouldn’t do
anything unless a task gets queued upon an external event (like when
network download finishes, or a timeout is up, or the user clicked a
button).</li>
<li><strong>Cooperative multitasking</strong>. JavaScript allows multitasking, but tasks
wouldn’t get executed unless the current script finishes executing. This
is in contrast with modern operating system schedulers, which would
interrupt and preempt long-running threads.</li>
</ol>
<h2 id="introducing-javascript-promises"><a href="#introducing-javascript-promises" aria-label="introducing javascript promises permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introducing JavaScript Promises</h2>
<blockquote>
<p>What are Promises in JavaScript? How do they ease asynchronous programming?</p>
</blockquote>
<p>By now, we have a pretty good idea of how asynchronous programming works in
JavaScript, with callbacks. But despite all those concurrency improvements,
the programming flow really isn’t great. A phenomenon known as “<a href="http://callbackhell.com/">callback
hell</a>” is often present in callback-based code that does a series of function
calls sequentially, with callbacks inside callbacks inside callbacks:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// callback hell</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error reading file: '</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filename <span class="token operator">+</span> <span class="token string">'.new'</span><span class="token punctuation">,</span> file<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error writing file: '</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Done!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Using Promises is a way to simplify that.</p>
<p>At its most basic level, a JavaScript <code class="language-js">Promise</code> object is simply a
container of JavaScript value, with a state attached to it that indicates if
the operation succeeds. By default, the Promise container is empty,
indicating that the data is not yet available.</p>
<h3 id="creating-promises"><a href="#creating-promises" aria-label="creating promises permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating Promises</h3>
<p>If we want to use Promises with an existing callback-based API, we can use the Promise constructor.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// This Promise will become fulfilled when the fetch finishes.</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">basicFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This Promise becomes fulfilled when the file is fully read. If an error</span>
<span class="token comment">// occurred, the Promise is rejected with the error.</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token function">resolve</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This Promise will remain empty forever.</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="-application-implementing-jspromiseresolve"><a href="#-application-implementing-jspromiseresolve" aria-label=" application implementing jspromiseresolve permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🍏 Application: Implementing <code class="language-js">Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></h3>
<p>In addition to the <code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Promise</span></code> API as above, JavaScript provides a
shorthand for creating a Promise that is assigned a value at creation:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// This Promise is assigned the value 1 upon creation.</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>How would you go about implementing this method using <code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Promise</span></code>?</p>
<details><summary>Answer</summary>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
</details>
<h3 id="consuming-promises"><a href="#consuming-promises" aria-label="consuming promises permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Consuming promises</h3>
<p>But unlike a usual container object, <code class="language-js">Promise</code> objects don’t allow direct
access to the contained value. Instead, to access it or to wait for the value
to become available, one attaches a <em>promise reaction</em> callback function
using the <code class="language-js"><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// When the promise is fulfilled with a value, print it out.</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If we were to rewrite our callback-hellish code using Promises instead, they
would look much more linear and intuitive.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Clean code with Promises</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=></span> fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filename <span class="token operator">+</span> <span class="token string">'.new'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Done!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'An error occurred: '</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="jsasync-functions"><a href="#jsasync-functions" aria-label="jsasync functions permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-js"><span class="token keyword">async</span></code> functions</h2>
<blockquote>
<p>How do <code class="language-js"><span class="token keyword">async</span></code> functions further simplify asynchronous code, and how do
they work?</p>
</blockquote>
<p>Promises themselves can be pretty useful already, but their real power lies
in unlocking a new JavaScript feature called <code class="language-js"><span class="token keyword">async</span></code> functions. Remember
all those <code class="language-js"><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>’s? <code class="language-js"><span class="token keyword">async</span></code> functions give us a way of getting rid
of them.</p>
<p>Here’s the code that does the same thing as above… except <code class="language-js"><span class="token punctuation">.</span>then</code> doesn’t
appear:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Clean code with async</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filename <span class="token operator">+</span> <span class="token string">'.new'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Done!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'An error occurred: '</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This looks really really clean. The <code class="language-js"><span class="token keyword">await</span></code> operator would take a Promise
object, and, well, waits until the Promise resolves and get its value. In
fact, it looks pretty much like a synchronous function, in that we could
directly get the result of an asynchronous action. But how is it possible for
this not to have the same problems as synchronous code, and not block the
entire main thread?</p>
<p>It turns out that there are three special things about an async function:</p>
<ol>
<li>All <code class="language-js"><span class="token keyword">async</span></code> functions always return a Promise immediately, so calling the
function does not directly yield the returned value, fitting our
definition of an asynchronous operation.</li>
<li>The execution of this specific function could be suspended and restarted.
When the <code class="language-js"><span class="token keyword">await</span></code> operator is encountered, only the function will be
paused, <em>without blocking the rest of the main thread.</em> This makes
<code class="language-js"><span class="token keyword">async</span></code> functions not suffer from the same problems as synchronous
code.</li>
<li>The <code class="language-js"><span class="token keyword">await</span></code> operator would register special Promise reaction callbacks
to the given Promise, which would restart that particular instance of the
<code class="language-js"><span class="token keyword">async</span></code> function using the values in the Promise.</li>
</ol>
<p>With these three things set up, <code class="language-js"><span class="token keyword">async</span></code> functions are able to do the
amazing things they do.</p></div></article><footer class="jss144"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiGrid-root jss145 MuiGrid-container MuiGrid-spacing-xs-1"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><div class="jss147">Find us on social media</div><div class="jss146"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://www.facebook.com/groups/acmhack/" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 33 32" fill="none" class="jss254"><path d="M31.195 0H1.818C.812 0 0 .787 0 1.762v28.463c0 .975.812 1.762 1.818 1.762h15.81V19.6h-4.307v-4.825h4.307v-3.563c0-4.137 2.605-6.387 6.41-6.387 1.818 0 3.39.138 3.842.188v4.325h-2.643c-2.064 0-2.463.95-2.463 2.35v3.087h4.939l-.645 4.825h-4.294V32h8.408C32.187 32 33 31.212 33 30.238V1.762C33.013.787 32.2 0 31.195 0z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://github.com/uclaacm/" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 33 33" fill="none" class="jss254"><path d="M16.5 0C7.386 0 0 7.408 0 16.548c0 7.317 4.73 13.51 11.28 15.708.824.155 1.12-.362 1.12-.802 0-.4-.012-1.694-.025-3.077-4.576.996-5.543-1.952-5.543-1.952-.748-1.913-1.83-2.418-1.83-2.418-1.496-1.02.116-1.008.116-1.008 1.662.117 2.526 1.707 2.526 1.707 1.47 2.534 3.854 1.797 4.796 1.37.141-1.073.58-1.797 1.044-2.21-3.661-.414-7.516-1.837-7.516-8.184 0-1.81.645-3.284 1.702-4.447-.168-.414-.735-2.095.155-4.383 0 0 1.379-.44 4.537 1.693a15.716 15.716 0 014.125-.555c1.405 0 2.81.194 4.138.555 3.145-2.146 4.538-1.693 4.538-1.693.902 2.275.335 3.969.167 4.383 1.057 1.163 1.702 2.637 1.702 4.447 0 6.36-3.855 7.757-7.529 8.17.593.517 1.122 1.526 1.122 3.064 0 2.211-.013 3.995-.013 4.538 0 .44.297.957 1.135.789C28.282 30.058 33 23.853 33 16.548 33 7.408 25.614 0 16.5 0zM6.175 23.568c-.04.077-.168.103-.284.052-.116-.052-.18-.168-.142-.246.039-.09.168-.103.284-.052.116.052.193.168.142.246zm.812.737c-.078.077-.232.039-.335-.078-.104-.116-.13-.271-.052-.349.077-.077.232-.038.335.078.116.116.142.271.052.349zm.567.918c-.103.064-.27 0-.374-.142-.103-.143-.103-.324 0-.401.103-.065.27-.013.374.142.103.155.103.336 0 .4zm.94 1.086c-.09.103-.283.077-.424-.065-.142-.13-.18-.323-.09-.427.09-.103.283-.077.425.065.141.13.18.323.09.427zm1.213.362c-.039.129-.22.194-.413.129-.18-.052-.31-.207-.27-.336.038-.13.219-.194.412-.13.193.052.31.207.27.337zm1.379.155c0 .142-.155.245-.348.258-.194 0-.361-.103-.361-.245 0-.142.155-.246.348-.259.206 0 .36.104.36.246zm1.366-.052c.026.13-.116.272-.309.31-.193.04-.374-.051-.4-.18-.025-.143.116-.272.31-.31.206-.04.374.038.4.18z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://medium.com/techatucla" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 42 33" fill="none" class="jss254"><path d="M4.909 6.733c.063-.508-.159-1.016-.539-1.365L.538.698V0h12.035l9.31 20.454L30.023 0h11.464v.699L38.16 3.875a1.034 1.034 0 00-.38.921v23.408c-.063.35.095.699.38.921l3.23 3.176V33H25.115v-.699l3.357-3.271c.316-.318.316-.413.316-.921V9.21l-9.31 23.726H18.21L7.41 9.21v15.912a2.131 2.131 0 00.602 1.81l4.339 5.337v.698H0v-.699l4.37-5.304c.475-.476.665-1.175.57-1.81V6.733h-.03z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://twitter.com/uclaacm" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 41 33" fill="none" class="jss254"><path d="M40.469 3.911A16.503 16.503 0 0135.7 5.222a8.367 8.367 0 003.653-4.61 16.582 16.582 0 01-5.271 2.02A8.268 8.268 0 0028.019 0c-4.586 0-8.304 3.729-8.304 8.328 0 .655.075 1.29.214 1.902-6.9-.344-13.018-3.664-17.111-8.693a8.279 8.279 0 00-1.125 4.19 8.329 8.329 0 003.696 6.931 8.276 8.276 0 01-3.76-1.042v.107c0 4.03 2.86 7.394 6.653 8.167a8.132 8.132 0 01-2.185.29c-.536 0-1.05-.053-1.565-.15 1.061 3.31 4.125 5.717 7.758 5.781A16.605 16.605 0 011.982 29.38c-.664 0-1.328-.043-1.982-.119A23.434 23.434 0 0012.729 33c15.268 0 23.615-12.69 23.615-23.683 0-.366-.011-.72-.022-1.075a17.47 17.47 0 004.147-4.33z" fill="#fff"></path></svg></span></button></a></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><div>uclaacmhack@gmail.com</div><div class="jss150">© ACM Hack</div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><a class="jss149" href="http://eepurl.com/c5pE6P" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedSecondary jss148" tabindex="0" type="button"><span class="MuiButton-label">Join ACM’s Mailing List</span></button></a></div></div></div></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/fall2019/js-chats-2/";window.webpackCompilationHash="41d592fa2798d1bbd394";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2b5ff4a1e707a2a443e0.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-67618fca75d5df140e19.js"],"component---src-components-post-post-template-js":["/component---src-components-post-post-template-js-34b75540b2127c93a49d.js"],"component---src-components-blog-page-blog-page-template-js":["/component---src-components-blog-page-blog-page-template-js-83f01823963861bc4813.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a33671937e3699d54c0e.js"],"component---src-pages-events-js":["/component---src-pages-events-js-8e13c7c656b7c8485068.js"],"component---src-pages-index-js":["/component---src-pages-index-js-8937623e586910203335.js"],"component---src-pages-team-js":["/component---src-pages-team-js-c1e643828759b9373dda.js"]};/*]]>*/</script><script src="/component---src-components-post-post-template-js-34b75540b2127c93a49d.js" async=""></script><script src="/styles-016ef4a6e65f04d097fd.js" async=""></script><script src="/commons-19cb3cf207367cd498c6.js" async=""></script><script src="/app-2b5ff4a1e707a2a443e0.js" async=""></script><script src="/webpack-runtime-3f26d09e431571ffcd5c.js" async=""></script></body></html>