<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a729928236d097dac740.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.md_container{font-family:Chivo,sans-serif}.md_container a{color:#0645ad;text-decoration:none}.md_container a:visited{color:#0b0080}.md_container a:hover{color:#06e}.md_container a:active{color:#faa700}.md_container a:focus{outline:thin dotted}.md_container a:active,.md_container a:hover{outline:0}.md_container p{margin:1em 0;font-family:Chivo,sans-serif}.md_container img{max-width:100%}.md_container h1,.md_container h2,.md_container h3,.md_container h4,.md_container h5,.md_container h6{margin:0;color:rgba(0,0,0,.87);font-family:Palanquin Dark,sans-serif}.md_container h1{font-weight:300;line-height:1;font-size:3.75rem;letter-spacing:-.00833em}.md_container h2,.md_container h3,.md_container h4{font-weight:300}.md_container h2{font-size:1.5em}.md_container h3{font-size:1.2em}.md_container h4{font-size:1em}.md_container h5{font-weight:500;font-size:.9em}.md_container blockquote{color:#666;margin:0;padding-left:3em;border-left:.5em solid #eee}.md_container hr{display:block;border:0;border-top:1px solid #aaa;border-bottom:1px solid #eee;margin:1em 0;padding:0}.md_container code,.md_container kbd,.md_container pre,.md_container samp{color:#000;font-family:monospace,monospace;_font-family:courier new,monospace;font-size:.98em}.md_container pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}.md_container b,.md_container strong{font-weight:700;font-family:Chivo,sans-serif}.md_container dfn{font-style:italic}.md_container ins{color:#000;text-decoration:none}.md_container mark{color:#000;font-style:italic;font-weight:700}.md_container sub,.md_container sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.md_container sup{top:-.5em}.md_container sub{bottom:-.25em}.md_container ol,.md_container ul{margin:1em 0;padding:0 0 0 2em}.md_container li p:last-child{margin:0}.md_container dd{margin:0 0 0 2em}.md_container img{border:0;-ms-interpolation-mode:bicubic;vertical-align:middle}.md_container table{border-collapse:collapse;border-spacing:0}.md_container td{vertical-align:top}</style><meta name="generator" content="Gatsby 2.15.29"/><style id="jss-server-side">.MuiContainer-root{width:100%;box-sizing:border-box;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiContainer-root{padding-left:24px;padding-right:24px}}@media (min-width:960px){.MuiContainer-root{padding-left:32px;padding-right:32px}}@media (min-width:600px){.MuiContainer-fixed{max-width:600px}}@media (min-width:960px){.MuiContainer-fixed{max-width:960px}}@media (min-width:1280px){.MuiContainer-fixed{max-width:1280px}}@media (min-width:1920px){.MuiContainer-fixed{max-width:1920px}}@media (min-width:0px){.MuiContainer-maxWidthXs{max-width:444px}}@media (min-width:600px){.MuiContainer-maxWidthSm{max-width:600px}}@media (min-width:960px){.MuiContainer-maxWidthMd{max-width:960px}}@media (min-width:1280px){.MuiContainer-maxWidthLg{max-width:1280px}}@media (min-width:1920px){.MuiContainer-maxWidthXl{max-width:1920px}}.MuiTypography-root{margin:0}.MuiTypography-body2{font-size:1rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.43}.MuiTypography-body1{font-size:1.0714285714285714rem;font-family:Chivo,sans-serif;font-weight:400;line-height:1.5}@media (min-width:600px){.MuiTypography-body1{font-size:1.1667rem}}@media (min-width:960px){.MuiTypography-body1{font-size:1.1667rem}}@media (min-width:1280px){.MuiTypography-body1{font-size:1.1667rem}}.MuiTypography-caption{font-size:.8571428571428571rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.66}.MuiTypography-button{font-size:1rem;font-family:Chivo,sans-serif;font-weight:500;line-height:1.75;text-transform:uppercase}.MuiTypography-h1{font-size:3.9285714285714284rem;font-family:"Palanquin Dark",sans-serif;font-weight:300;line-height:1}@media (min-width:600px){.MuiTypography-h1{font-size:5.25rem}}@media (min-width:960px){.MuiTypography-h1{font-size:6.25rem}}@media (min-width:1280px){.MuiTypography-h1{font-size:6.75rem}}.MuiTypography-h2{font-size:2.642857142857143rem;font-family:"Palanquin Dark",sans-serif;font-weight:300;line-height:1}@media (min-width:600px){.MuiTypography-h2{font-size:3.5rem}}@media (min-width:960px){.MuiTypography-h2{font-size:4rem}}@media (min-width:1280px){.MuiTypography-h2{font-size:4.25rem}}.MuiTypography-h3{font-size:2.2142857142857144rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.04}@media (min-width:600px){.MuiTypography-h3{font-size:2.8846rem}}@media (min-width:960px){.MuiTypography-h3{font-size:3.125rem}}@media (min-width:1280px){.MuiTypography-h3{font-size:3.3654rem}}.MuiTypography-h4{font-size:1.7142857142857142rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.17}@media (min-width:600px){.MuiTypography-h4{font-size:2.1368rem}}@media (min-width:960px){.MuiTypography-h4{font-size:2.3504rem}}@media (min-width:1280px){.MuiTypography-h4{font-size:2.3504rem}}.MuiTypography-h5{font-size:1.3571428571428572rem;font-family:"Palanquin Dark",sans-serif;font-weight:400;line-height:1.33}@media (min-width:600px){.MuiTypography-h5{font-size:1.5038rem}}@media (min-width:960px){.MuiTypography-h5{font-size:1.6917rem}}@media (min-width:1280px){.MuiTypography-h5{font-size:1.6917rem}}.MuiTypography-h6{font-size:1.2142857142857142rem;font-family:"Palanquin Dark",sans-serif;font-weight:500;line-height:1.6}@media (min-width:600px){.MuiTypography-h6{font-size:1.25rem}}@media (min-width:960px){.MuiTypography-h6{font-size:1.4063rem}}@media (min-width:1280px){.MuiTypography-h6{font-size:1.4063rem}}.MuiTypography-subtitle1{font-size:1.0714285714285714rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.75}@media (min-width:600px){.MuiTypography-subtitle1{font-size:1.1429rem}}@media (min-width:960px){.MuiTypography-subtitle1{font-size:1.1429rem}}@media (min-width:1280px){.MuiTypography-subtitle1{font-size:1.1429rem}}.MuiTypography-subtitle2{font-size:1rem;font-family:Poppins,sans-serif;font-weight:500;line-height:1.57}.MuiTypography-overline{font-size:.8571428571428571rem;font-family:Poppins,sans-serif;font-weight:400;line-height:2.66;text-transform:uppercase}.MuiTypography-srOnly{width:1px;height:1px;overflow:hidden;position:absolute}.MuiTypography-alignLeft{text-align:left}.MuiTypography-alignCenter{text-align:center}.MuiTypography-alignRight{text-align:right}.MuiTypography-alignJustify{text-align:justify}.MuiTypography-noWrap{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MuiTypography-gutterBottom{margin-bottom:.35em}.MuiTypography-paragraph{margin-bottom:16px}.MuiTypography-colorInherit{color:inherit}.MuiTypography-colorPrimary{color:#c960ff}.MuiTypography-colorSecondary{color:#ed3266}.MuiTypography-colorTextPrimary{color:rgba(0,0,0,.87)}.MuiTypography-colorTextSecondary{color:rgba(0,0,0,.54)}.MuiTypography-colorError{color:#f44336}.MuiTypography-displayInline{display:inline}.MuiTypography-displayBlock{display:block}.jss105{padding-top:16px;overflow-wrap:break-word;padding-bottom:16px}.jss106{color:#9e9e9e}html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:bolder}body{color:rgba(0,0,0,.87);margin:0;font-size:1rem;font-family:Poppins,sans-serif;font-weight:400;line-height:1.43;background-color:#fafafa}@media print{body{background-color:#fff}}body::-webkit-backdrop{background-color:#fafafa}body::backdrop{background-color:#fafafa}.MuiButtonBase-root{color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiButtonBase-root::-moz-focus-inner{border-style:none}.MuiButtonBase-root.Mui-disabled{cursor:default;pointer-events:none}.MuiButton-root{color:rgba(0,0,0,.87);padding:6px 16px;font-size:1rem;min-width:64px;box-sizing:border-box;transition:background-color 250ms cubic-bezier(.4,0,.2,1) 0s,box-shadow 250ms cubic-bezier(.4,0,.2,1) 0s,border 250ms cubic-bezier(.4,0,.2,1) 0s;font-family:Chivo,sans-serif;font-weight:500;line-height:1.75;border-radius:4px;text-transform:uppercase}.MuiButton-root:hover{text-decoration:none;background-color:rgba(0,0,0,.08)}.MuiButton-root.Mui-disabled{color:rgba(0,0,0,.26)}@media (hover:none){.MuiButton-root:hover{background-color:transparent}}.MuiButton-root:hover.Mui-disabled{background-color:transparent}.MuiButton-label{width:100%;display:inherit;align-items:inherit;justify-content:inherit}.MuiButton-text{padding:6px 8px}.MuiButton-textPrimary{color:#c960ff}.MuiButton-textPrimary:hover{background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiButton-textPrimary:hover{background-color:transparent}}.MuiButton-textSecondary{color:#ed3266}.MuiButton-textSecondary:hover{background-color:rgba(237,50,102,.08)}@media (hover:none){.MuiButton-textSecondary:hover{background-color:transparent}}.MuiButton-outlined{border:1px solid rgba(0,0,0,.23);padding:5px 15px}.MuiButton-outlined.Mui-disabled{border:1px solid rgba(0,0,0,.26)}.MuiButton-outlinedPrimary{color:#c960ff;border:1px solid rgba(201,96,255,.5)}.MuiButton-outlinedPrimary:hover{border:1px solid #c960ff;background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiButton-outlinedPrimary:hover{background-color:transparent}}.MuiButton-outlinedSecondary{color:#ed3266;border:1px solid rgba(237,50,102,.5)}.MuiButton-outlinedSecondary:hover{border:1px solid #ed3266;background-color:rgba(237,50,102,.08)}.MuiButton-outlinedSecondary.Mui-disabled{border:1px solid rgba(0,0,0,.26)}@media (hover:none){.MuiButton-outlinedSecondary:hover{background-color:transparent}}.MuiButton-contained{color:rgba(0,0,0,.87);box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12);background-color:#e0e0e0}.MuiButton-contained:hover{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background-color:#d5d5d5}.MuiButton-contained.Mui-focusVisible{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiButton-contained:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiButton-contained.Mui-disabled{color:rgba(0,0,0,.26);box-shadow:none;background-color:rgba(0,0,0,.12)}@media (hover:none){.MuiButton-contained:hover{box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12);background-color:#e0e0e0}}.MuiButton-contained:hover.Mui-disabled{background-color:rgba(0,0,0,.12)}.MuiButton-containedPrimary{color:#fff;background-color:#c960ff}.MuiButton-containedPrimary:hover{background-color:#352a3a}@media (hover:none){.MuiButton-containedPrimary:hover{background-color:#c960ff}}.MuiButton-containedSecondary{color:#fff;background-color:#ed3266}.MuiButton-containedSecondary:hover{background-color:#a52347}@media (hover:none){.MuiButton-containedSecondary:hover{background-color:#ed3266}}.MuiButton-colorInherit{color:inherit;border-color:currentColor}.MuiButton-textSizeSmall{padding:4px 5px;font-size:.9285714285714285rem}.MuiButton-textSizeLarge{padding:8px 11px;font-size:1.0714285714285714rem}.MuiButton-outlinedSizeSmall{padding:3px 9px;font-size:.9285714285714285rem}.MuiButton-outlinedSizeLarge{padding:7px 21px;font-size:1.0714285714285714rem}.MuiButton-containedSizeSmall{padding:4px 10px;font-size:.9285714285714285rem}.MuiButton-containedSizeLarge{padding:8px 22px;font-size:1.0714285714285714rem}.MuiButton-fullWidth{width:100%}.MuiButton-startIcon{display:inherit;margin-left:-4px;margin-right:8px}.MuiButton-endIcon{display:inherit;margin-left:8px;margin-right:-4px}.MuiButton-iconSizeSmall>:first-child{font-size:18px}.MuiButton-iconSizeMedium>:first-child{font-size:20px}.MuiButton-iconSizeLarge>:first-child{font-size:22px}.MuiGrid-container{width:100%;display:flex;flex-wrap:wrap;box-sizing:border-box}.MuiGrid-item{margin:0;box-sizing:border-box}.MuiGrid-zeroMinWidth{min-width:0}.MuiGrid-direction-xs-column{flex-direction:column}.MuiGrid-direction-xs-column-reverse{flex-direction:column-reverse}.MuiGrid-direction-xs-row-reverse{flex-direction:row-reverse}.MuiGrid-wrap-xs-nowrap{flex-wrap:nowrap}.MuiGrid-wrap-xs-wrap-reverse{flex-wrap:wrap-reverse}.MuiGrid-align-items-xs-center{align-items:center}.MuiGrid-align-items-xs-flex-start{align-items:flex-start}.MuiGrid-align-items-xs-flex-end{align-items:flex-end}.MuiGrid-align-items-xs-baseline{align-items:baseline}.MuiGrid-align-content-xs-center{align-content:center}.MuiGrid-align-content-xs-flex-start{align-content:flex-start}.MuiGrid-align-content-xs-flex-end{align-content:flex-end}.MuiGrid-align-content-xs-space-between{align-content:space-between}.MuiGrid-align-content-xs-space-around{align-content:space-around}.MuiGrid-justify-xs-center{justify-content:center}.MuiGrid-justify-xs-flex-end{justify-content:flex-end}.MuiGrid-justify-xs-space-between{justify-content:space-between}.MuiGrid-justify-xs-space-around{justify-content:space-around}.MuiGrid-justify-xs-space-evenly{justify-content:space-evenly}.MuiGrid-spacing-xs-1{width:calc(100% + 8px);margin:-4px}.MuiGrid-spacing-xs-1>.MuiGrid-item{padding:4px}.MuiGrid-spacing-xs-2{width:calc(100% + 16px);margin:-8px}.MuiGrid-spacing-xs-2>.MuiGrid-item{padding:8px}.MuiGrid-spacing-xs-3{width:calc(100% + 24px);margin:-12px}.MuiGrid-spacing-xs-3>.MuiGrid-item{padding:12px}.MuiGrid-spacing-xs-4{width:calc(100% + 32px);margin:-16px}.MuiGrid-spacing-xs-4>.MuiGrid-item{padding:16px}.MuiGrid-spacing-xs-5{width:calc(100% + 40px);margin:-20px}.MuiGrid-spacing-xs-5>.MuiGrid-item{padding:20px}.MuiGrid-spacing-xs-6{width:calc(100% + 48px);margin:-24px}.MuiGrid-spacing-xs-6>.MuiGrid-item{padding:24px}.MuiGrid-spacing-xs-7{width:calc(100% + 56px);margin:-28px}.MuiGrid-spacing-xs-7>.MuiGrid-item{padding:28px}.MuiGrid-spacing-xs-8{width:calc(100% + 64px);margin:-32px}.MuiGrid-spacing-xs-8>.MuiGrid-item{padding:32px}.MuiGrid-spacing-xs-9{width:calc(100% + 72px);margin:-36px}.MuiGrid-spacing-xs-9>.MuiGrid-item{padding:36px}.MuiGrid-spacing-xs-10{width:calc(100% + 80px);margin:-40px}.MuiGrid-spacing-xs-10>.MuiGrid-item{padding:40px}.MuiGrid-grid-xs-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xs-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xs-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xs-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xs-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xs-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xs-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xs-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xs-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xs-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xs-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xs-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xs-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xs-12{flex-grow:0;max-width:100%;flex-basis:100%}@media (min-width:600px){.MuiGrid-grid-sm-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-sm-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-sm-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-sm-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-sm-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-sm-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-sm-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-sm-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-sm-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-sm-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-sm-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-sm-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-sm-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-sm-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:960px){.MuiGrid-grid-md-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-md-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-md-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-md-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-md-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-md-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-md-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-md-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-md-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-md-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-md-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-md-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-md-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-md-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1280px){.MuiGrid-grid-lg-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-lg-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-lg-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-lg-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-lg-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-lg-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-lg-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-lg-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-lg-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-lg-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-lg-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-lg-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-lg-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-lg-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1920px){.MuiGrid-grid-xl-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xl-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xl-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xl-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xl-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xl-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xl-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xl-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xl-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xl-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xl-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xl-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xl-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xl-12{flex-grow:0;max-width:100%;flex-basis:100%}}.MuiIconButton-root{flex:0 0 auto;color:rgba(0,0,0,.54);padding:12px;overflow:visible;font-size:1.7142857142857142rem;text-align:center;transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;border-radius:50%}.MuiIconButton-root:hover{background-color:rgba(0,0,0,.08)}.MuiIconButton-root.Mui-disabled{color:rgba(0,0,0,.26);background-color:transparent}@media (hover:none){.MuiIconButton-root:hover{background-color:transparent}}.MuiIconButton-edgeStart{margin-left:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeStart{margin-left:-3px}.MuiIconButton-edgeEnd{margin-right:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeEnd{margin-right:-3px}.MuiIconButton-colorInherit{color:inherit}.MuiIconButton-colorPrimary{color:#c960ff}.MuiIconButton-colorPrimary:hover{background-color:rgba(201,96,255,.08)}@media (hover:none){.MuiIconButton-colorPrimary:hover{background-color:transparent}}.MuiIconButton-colorSecondary{color:#ed3266}.MuiIconButton-colorSecondary:hover{background-color:rgba(237,50,102,.08)}@media (hover:none){.MuiIconButton-colorSecondary:hover{background-color:transparent}}.MuiIconButton-sizeSmall{padding:3px;font-size:1.2857142857142856rem}.MuiIconButton-label{width:100%;display:flex;align-items:inherit;justify-content:inherit}.MuiLink-underlineNone{text-decoration:none}.MuiLink-underlineHover{text-decoration:none}.MuiLink-underlineHover:hover{text-decoration:underline}.MuiLink-underlineAlways{text-decoration:underline}.MuiLink-button{border:0;cursor:pointer;margin:0;outline:0;padding:0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiLink-button::-moz-focus-inner{border-style:none}.MuiLink-button.Mui-focusVisible{outline:auto}.jss254{width:30px}.jss144{margin-top:32px;background-color:#352a3a}.jss145{color:#fff;padding:8px 24px;font-size:16px;text-align:center;align-items:center;font-family:Poppins,sans-serif}.jss146{display:flex;align-items:center;padding-top:8px;justify-content:center}.jss147{font-size:14px;text-transform:uppercase}.jss148{font-size:14px}.jss149{text-decoration:none}.jss150{text-transform:uppercase}.MuiPaper-root{color:rgba(0,0,0,.87);transition:box-shadow .3s cubic-bezier(.4,0,.2,1) 0s;background-color:#fff}.MuiPaper-rounded{border-radius:4px}.MuiPaper-elevation0{box-shadow:none}.MuiPaper-elevation1{box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.MuiPaper-elevation2{box-shadow:0 1px 5px 0 rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12)}.MuiPaper-elevation3{box-shadow:0 1px 8px 0 rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 3px 3px -2px rgba(0,0,0,.12)}.MuiPaper-elevation4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.MuiPaper-elevation5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.MuiPaper-elevation6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiPaper-elevation7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.MuiPaper-elevation8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiPaper-elevation9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.MuiPaper-elevation10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.MuiPaper-elevation11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.MuiPaper-elevation12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.MuiPaper-elevation13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.MuiPaper-elevation14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.MuiPaper-elevation15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.MuiPaper-elevation16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.MuiPaper-elevation17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.MuiPaper-elevation18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.MuiPaper-elevation19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.MuiPaper-elevation20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.MuiPaper-elevation21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.MuiPaper-elevation22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.MuiPaper-elevation23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.MuiPaper-elevation24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.MuiAppBar-root{width:100%;display:flex;z-index:1100;box-sizing:border-box;flex-shrink:0;flex-direction:column}.MuiAppBar-positionFixed{top:0;left:auto;right:0;position:fixed}.MuiAppBar-positionAbsolute{top:0;left:auto;right:0;position:absolute}.MuiAppBar-positionSticky{top:0;left:auto;right:0;position:-webkit-sticky;position:sticky}.MuiAppBar-positionStatic{position:static}.MuiAppBar-positionRelative{position:relative}.MuiAppBar-colorDefault{color:rgba(0,0,0,.87);background-color:#f5f5f5}.MuiAppBar-colorPrimary{color:#fff;background-color:#c960ff}.MuiAppBar-colorSecondary{color:#fff;background-color:#ed3266}.MuiToolbar-root{display:flex;position:relative;align-items:center}.MuiToolbar-gutters{padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiToolbar-gutters{padding-left:24px;padding-right:24px}}.MuiToolbar-regular{min-height:56px}@media (min-width:0px) and (orientation:landscape){.MuiToolbar-regular{min-height:48px}}@media (min-width:600px){.MuiToolbar-regular{min-height:64px}}.MuiToolbar-dense{min-height:48px}.MuiSvgIcon-root{fill:currentColor;width:1em;height:1em;display:inline-block;font-size:1.7142857142857142rem;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.MuiSvgIcon-colorPrimary{color:#c960ff}.MuiSvgIcon-colorSecondary{color:#ed3266}.MuiSvgIcon-colorAction{color:rgba(0,0,0,.54)}.MuiSvgIcon-colorError{color:#f44336}.MuiSvgIcon-colorDisabled{color:rgba(0,0,0,.26)}.MuiSvgIcon-fontSizeInherit{font-size:inherit}.MuiSvgIcon-fontSizeSmall{font-size:1.4285714285714284rem}.MuiSvgIcon-fontSizeLarge{font-size:2.5rem}.MuiCollapse-container{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1) 0s}.MuiCollapse-entered{height:auto;overflow:visible}.MuiCollapse-hidden{visibility:hidden}.MuiCollapse-wrapper{display:flex}.MuiCollapse-wrapperInner{width:100%}.jss50{color:inherit;text-decoration:inherit}.jss49{font-family:Poppins,sans-serif;font-weight:500}.jss1{cursor:pointer;display:flex;align-items:center;justify-content:center}.jss2{padding:0 6%;justify-content:space-between;background-color:#fff}.jss3{height:1.8rem;margin-right:8px}.jss4{height:1.2rem}.jss5{display:none}@media (max-width:629.95px){.jss5{display:inline}}.jss6{display:inline}@media (max-width:629.95px){.jss6{display:none}}.jss7{width:100%;display:none;z-index:1;overflow:hidden;position:fixed;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background-color:#f5f5f5}@media (max-width:629.95px){.jss7{display:inline}}.jss8{display:flex;padding:3%;flex-direction:column}</style><title data-react-helmet="true">A Gentle Introduction to React Hooks | UCLA ACM Hack</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Chivo:300,400|Palanquin+Dark|Palanquin" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="We are a student-run organization that aims to empower UCLA students to influence their world through code. We host events for coders of all skills levels."/><meta data-react-helmet="true" property="og:title" content="A Gentle Introduction to React Hooks"/><meta data-react-helmet="true" property="og:site_name" content="UCLA ACM Hack"/><meta data-react-helmet="true" property="og:description" content="We are a student-run organization that aims to empower UCLA students to influence their world through code. We host events for coders of all skills levels."/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="article:published_time" content="2019-10-22T00:00:00.000Z"/><meta data-react-helmet="true" name="article:section" content="Technology"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#c960ff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=34341e91aa74943594be4c84c3fc2b30"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=34341e91aa74943594be4c84c3fc2b30"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-0442aeab7bddbfeded27.js"/><link as="script" rel="preload" href="/app-eddf4b20a4d1fb943b63.js"/><link as="script" rel="preload" href="/commons-39c98e705df38392c54e.js"/><link as="script" rel="preload" href="/styles-3e6a32f1af22fd52bc9e.js"/><link as="script" rel="preload" href="/component---src-components-post-post-template-js-27804ab286c1c5f8ca97.js"/><link as="fetch" rel="preload" href="/page-data/posts/fall2019/js-chats-3/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="MuiPaper-root MuiPaper-elevation4 MuiAppBar-root MuiAppBar-positionSticky MuiAppBar-colorPrimary"><div class="MuiToolbar-root MuiToolbar-regular jss2 MuiToolbar-gutters"><div class="jss1"><svg viewBox="0 0 350 350" class="jss3"><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path0_fill" fill="#C960FF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path1_fill" transform="translate(151.98 256.42)" fill="#FFF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path2_fill" transform="translate(111.11 86.9)" fill="#FFF"></use><use xlink:href="#acm-hack-logo_svg__acm-hack-logo_svg__path3_fill" transform="translate(146.1 143.9)" fill="#C960FF"></use><defs><path id="acm-hack-logo_svg__acm-hack-logo_svg__path0_fill" d="M342.274 193.669L193.669 342.274c-10.302 10.301-27.036 10.301-37.338 0L7.726 193.669c-10.301-10.302-10.301-27.036 0-37.338L156.33 7.726c10.302-10.301 27.036-10.301 37.338 0L342.274 156.33c10.301 10.302 10.301 27.036 0 37.338z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path1_fill" d="M46.04 4.226c0 10.19-10.302 14.727-23.02 14.727C10.3 18.953 0 14.416 0 4.226c0-9.148 4.872-.595 23.02-.595s23.02-8.07 23.02.595z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path2_fill" d="M99.59 139.792c0 19.226-15.99 27.408-35.7 27.408s-35.701-9.855-35.701-27.408C28.189 112.681 0 103.161 0 63.89 0 28.598 28.598 0 63.89 0s63.89 28.598 63.89 63.89c0 42.358-28.19 52.659-28.19 75.902z"></path><path id="acm-hack-logo_svg__acm-hack-logo_svg__path3_fill" d="M44.329 47.054c8.107-5.132 13.462-14.131 13.462-24.432A28.71 28.71 0 0047.49.532c-5.02-4.24-2.269 18.148-6.434 22.09-4.425 4.165-19.747 4.016-24.321 0-4.314-3.83-3.05-24.954-6.434-22.09C4.016 5.812 0 13.77 0 22.622c0 10.264 5.355 19.3 13.462 24.432v36.631c0 6.174 5.69 8.888 15.433 8.888 9.744 0 15.434-2.157 15.434-8.888v-36.63z"></path></defs></svg><svg viewBox="0 0 187 26" class="jss4"><path d="M18.264 25.267l-1.39-4.03h-8.99l-1.392 4.03H0L8.704 1.229h7.42l8.669 24.038h-6.529zm-8.846-8.468h5.921l-2.96-8.536-2.961 8.536zm20.614 5.224c-2.473-2.322-3.71-5.258-3.71-8.81 0-3.55 1.237-6.475 3.71-8.774C32.53 2.117 35.575.956 39.165.956c2.782 0 5.255.706 7.42 2.117 2.164 1.411 3.674 3.369 4.53 5.873h-7.277c-.951-1.753-2.473-2.63-4.566-2.63s-3.746.627-4.959 1.879c-1.189 1.251-1.783 2.925-1.783 5.019 0 2.094.594 3.767 1.783 5.019 1.213 1.252 2.866 1.878 4.959 1.878 2.093 0 3.615-.877 4.566-2.63h7.277c-.856 2.505-2.366 4.462-4.53 5.873-2.165 1.412-4.638 2.117-7.42 2.117-3.591 0-6.635-1.15-9.133-3.448zM83.387 1.297v23.97h-6.1V11.745l-5.815 13.52h-4.53l-5.815-13.52v13.52h-6.1V1.297h6.992l7.206 16.526 7.17-16.526h6.992z" fill="#242424"></path><path d="M111.831 1.536h4.067v23.73h-4.067V14.785h-11.665v10.482H96.1V1.537h4.066V11.78h11.665V1.536zm22.37 18.95c1.189-1.16 1.784-2.708 1.784-4.643 0-1.935-.595-3.472-1.784-4.61-1.165-1.138-2.557-1.707-4.174-1.707-1.617 0-3.02.558-4.209 1.673-1.165 1.116-1.748 2.64-1.748 4.575s.583 3.495 1.748 4.678c1.189 1.161 2.592 1.741 4.209 1.741 1.617 0 3.009-.569 4.174-1.707zm-5.03 5.088c-2.616 0-4.816-.91-6.599-2.732-1.784-1.843-2.676-4.188-2.676-7.033 0-2.868.88-5.19 2.64-6.966 1.784-1.798 3.995-2.697 6.635-2.697 1.546 0 2.902.341 4.067 1.024 1.189.66 2.105 1.537 2.747 2.63V6.452h4.102v18.814h-4.102V21.75a7.725 7.725 0 01-2.747 2.8c-1.165.682-2.521 1.024-4.067 1.024zm24.534 0c-2.854 0-5.173-.888-6.957-2.664-1.783-1.775-2.675-4.12-2.675-7.033 0-2.937.892-5.292 2.675-7.068 1.808-1.775 4.127-2.663 6.957-2.663 2.378 0 4.34.546 5.886 1.639 1.569 1.07 2.627 2.606 3.174 4.61h-4.387c-.738-1.981-2.295-2.971-4.673-2.971-1.665 0-2.997.569-3.996 1.707-.975 1.115-1.462 2.686-1.462 4.712s.487 3.608 1.462 4.746c.999 1.138 2.331 1.707 3.996 1.707 2.354 0 3.912-.99 4.673-2.97h4.387c-.57 1.912-1.641 3.437-3.21 4.575-1.57 1.115-3.52 1.673-5.85 1.673zm17.18-.307h-4.067V0h4.067v14.682l7.134-8.229h5.637l-9.061 9.424 9.061 9.39h-5.494l-7.277-8.093v8.093z" fill="#c960ff"></path></svg></div><div class="jss6"><a class="jss50" href="/"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Home</span></button></a><a class="jss50" href="/blog"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Blog</span></button></a><a class="jss50" href="/events"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Events</span></button></a><a class="jss50" href="/team"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49" tabindex="0" type="button"><span class="MuiButton-label">Team</span></button></a></div><button class="MuiButtonBase-root MuiIconButton-root jss5" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div></header><div class="jss7"><div class="MuiCollapse-container MuiCollapse-hidden" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><div class="jss8"><a class="jss50" href="/"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Home</span></button></a><a class="jss50" href="/blog"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Blog</span></button></a><a class="jss50" href="/events"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Events</span></button></a><a class="jss50" href="/team"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-text jss49 MuiButton-fullWidth" tabindex="0" type="button"><span class="MuiButton-label">Team</span></button></a></div></div></div></div></div><article class="MuiContainer-root jss105 MuiContainer-maxWidthMd"><h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom">A Gentle Introduction to React Hooks</h1><h3 class="MuiTypography-root MuiTypography-h5">JavaScript Chats with ACM Hack Session 3</h3><p class="MuiTypography-root jss106 MuiTypography-body1">October 21, 2019</p><div class="md_container"><ul>
<li><a href="#quick-review-of-the-class-lifecycle-methods">Quick Review of the <code class="language-text">class</code> Lifecycle Methods</a></li>
<li><a href="#quick-review-of-function-component">Quick Review of Function Component</a></li>
<li>
<p><a href="#overview-of-hooks">Overview of Hooks</a></p>
<ul>
<li><a href="#usestate-state-in-function-components"><code class="language-text">useState</code>: State in Function Components</a></li>
<li><a href="#application-hey-react-set-an-alarm-with-multiple-usestate">🍏Application: "Hey React, Set an Alarm" with Multiple <code class="language-text">useState</code></a></li>
<li><a href="#introduction-to-custom-hooks">Introduction to Custom Hooks</a></li>
<li><a href="#useeffect-side-effect-in-function-component"><code class="language-text">useEffect</code>: Side Effect in Function Component</a></li>
<li><a href="#application-applying-to-boogle-with-useeffect">🍏Application: "Applying to Boogle" with <code class="language-text">useEffect</code></a></li>
</ul>
</li>
<li>
<p><a href="#2-rules-of-hooks">2 Rules of Hooks</a></p>
<ul>
<li><a href="#a-list-model-of-keeping-states">A List Model of Keeping States</a></li>
</ul>
</li>
<li>
<p><a href="#application-power-of-hooks-with-debouncing">🍏Application: "Power of Hooks" with Debouncing</a></p>
<ul>
<li><a href="#settimeout-and-cleartimeout"><code class="language-text">setTimeout</code> and <code class="language-text">clearTimeout</code></a></li>
<li><a href="#implementation">Implementation</a></li>
<li><a href="#cleaning-up-useeffect">Cleaning up <code class="language-text">useEffect</code></a></li>
<li><a href="#abstract-reuse-custom-hook">Abstract, Reuse, Custom Hook</a></li>
<li><a href="#whats-wrong-with-the-old-class-way">What's Wrong with the Old <code class="language-text">class</code> Way?</a></li>
</ul>
</li>
<li><a href="#final-challenge">Final Challenge</a></li>
</ul>
<h2 id="quick-review-of-the-class-lifecycle-methods"><a href="#quick-review-of-the-class-lifecycle-methods" aria-label="quick review of the class lifecycle methods permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick Review of the <code class="language-text">class</code> Lifecycle Methods</h2>
<p>Before we dive into hooks, let's review some lifecycle methods
in the old <code class="language-text">class</code> syntax.
Here are some important ones that we need to know: </p>
<ul>
<li><code class="language-text">setState</code>: update the state within a component, triggers <code class="language-text">render</code> </li>
<li><code class="language-text">componentDidMount</code>: called when a component is just mounted.
<code class="language-text">componentDidMount</code> is allowed to perform side-effect here such as API
calls, and state updates with <code class="language-text">setState</code></li>
<li><code class="language-text">render</code>: React calls <code class="language-text">render</code> to get the updated version of the component</li>
<li><code class="language-text">componentDidUpdate</code>: called after the component re-rendered. Side effects allowed</li>
</ul>
<p>The lifecycle methods are well summarized in the following flow chart:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3581619105de725ae1ba913f3fae2bde/efcce/lifecycle.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.37325676784249%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVQoz22SDW/jIAyG9///3tRoXdskkEBDgED4MJA06dx2u9PpZllIgB/7teHt/mPbtuWcIaVlWW63m/feGCtHaa1VSqWUMABXAMCAfd8RefsDl1JGISglszUhRozzIbSkVVrhVQh4FjhnTdMYY9Z1/QcOUBpmqvrKVYQYjdHBu9lM3lktR2MmrBmeFmPE4g8YxeAGc7uQ66u/sJmOQK+26WU3mF7MYkqdcFLPqNg/7S+MfVZVRVoSIY9TUBaUjZTrw2U4EnWkEwqRBrR18D+Ms3HOYYcpZ+c8Oop2LtbMfJz5ZyOE9sH7eZ5/gffX4O53F1I7BCJCJ4GM8UQlHTzXiU+5FYApfpGN+SihjDEsjcoD5JTXlGJxrRHHoXuXvAJ7SUFiQIiPmUOC72m/njRGuK2wLwJ9y4NTZ5gu6JjiXvg992s220vh/v0pHvBSlvPp3NEul8iGD8oOo6qDG8ap5uKT9IfreNK2iWA8eCa7fuyUk1jy2TN+rJRQRiqZXGndt1wOZV11NEzyhpGWUzHLWGCadd1fGlYzyW7bA/4Cfu1utE5D4DsAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="react lifecycle"
        title="react lifecycle"
        src="/static/3581619105de725ae1ba913f3fae2bde/dbb61/lifecycle.png"
        srcset="/static/3581619105de725ae1ba913f3fae2bde/19bd1/lifecycle.png 163w,
/static/3581619105de725ae1ba913f3fae2bde/d3bcb/lifecycle.png 325w,
/static/3581619105de725ae1ba913f3fae2bde/dbb61/lifecycle.png 650w,
/static/3581619105de725ae1ba913f3fae2bde/6b691/lifecycle.png 975w,
/static/3581619105de725ae1ba913f3fae2bde/91670/lifecycle.png 1300w,
/static/3581619105de725ae1ba913f3fae2bde/efcce/lifecycle.png 2438w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<blockquote>
<p>See the diagram at: <a href="http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</a></p>
</blockquote>
<p>Exercise: Build a simple counter component, but the initial value
of the counter is given by the server. Here we emulate an API call
to fetch the initial value.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// faking a call to the server to get an initial value</span>
<span class="token keyword">function</span> <span class="token function">getInitialCounterValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<details>
<summary> Click to see solution </summary>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onIncrement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onIncrement</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">getInitialCounterValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> count <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onIncrement<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</details>
<h2 id="quick-review-of-function-component"><a href="#quick-review-of-function-component" aria-label="quick review of function component permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick Review of Function Component</h2>
<p>For some simple component that has no state (<strong>stateless component</strong>),
using the class syntax can be quite "wordy".</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">MyDisplayInfoComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Name: </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Major: </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>major<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To get reduce the amount of code we have to write,
we can use functions to write component instead of class.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">MyDisplayInfoComponent</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Name: </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Major: </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>major<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To simplify it further, we can even use the ES6 arrow
function syntax and parameter destructuring assignment.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">MyDisplayInfoComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> major <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Name: </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Major: </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>major<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>These stateless components are said to be <em>pure functions</em>.
Pure functions are simply functions in programming that
obey the property of a mathematical function:
given the same input <em>x</em>, it produces the same output <em>y</em>.
Stateless components are pure since given the same parameters,
they always return the same component, as long as the children
components are also stateless. </p>
<h2 id="overview-of-hooks"><a href="#overview-of-hooks" aria-label="overview of hooks permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview of Hooks</h2>
<p>The function component syntax is nice and simple.
Having code that is readable means that it is more
maintainable.
The function component syntax also makes more sense
since you are passing in a bunch of arguments to a function
and the function just returns a React Component. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// Here I passed in the argument `name` and `major`</span>
<span class="token comment">// and this expression should return a React Component.</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyDisplayInfoComponent</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Galen<span class="token punctuation">"</span></span> <span class="token attr-name">major</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CS<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></div>
<p>However, the problem is that there can be no state within
a function component.
You cannot even implement a simple counter with just
the function component. </p>
<p>With hooks, you can write a counter with a function component.
To keep a state in a function component, we can use the <code class="language-text">useState</code> hooks. </p>
<h3 id="usestate-state-in-function-components"><a href="#usestate-state-in-function-components" aria-label="usestate state in function components permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">useState</code>: State in Function Components</h3>
<p>The syntax of <code class="language-text">useState</code> works as such:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// importing the hooks</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// inside the component</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>currentState<span class="token punctuation">,</span> setterFunction<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The <code class="language-text">useState</code> function takes in an initial state, and returns
an array with 2 elements: the first being the current value of the
state, the second being a function to change the state.
Think of the second function as <code class="language-text">setState</code>. It is going to trigger
the re-render of the component. </p>
<p>Let's implement a simple counter with <code class="language-text">useState</code>.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SimpleCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onClickCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClickCallback<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here, the initial state of <code class="language-text">count</code> will be set to <code class="language-text">0</code>.
So the initial count the user see is 0.
Then, we created a callback <code class="language-text">onClickCallback</code>, for
the <code class="language-text">button</code> to increment the counter using <code class="language-text">setCount</code>. </p>
<p>In the a class syntax, a call to <code class="language-text">setState</code> will causes a
re-render. In other words, the <code class="language-text">render</code> class method will
be executed again. </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/526466b4230193fcc2481e9afee5079e/efcce/setState-path.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.37325676784249%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB60lEQVQoz22SiY6jMBBE5/8/bqVdbUaTkAAmGMwRwLcJSWrbjiZ7jaVWI2M/d3XXG2g9Ho+YcL/fEUKAcw7X6xW32w3aWsxSYhhHLMuCkbJzPv3z3r/OPh73xHiLsE9ghHWdAGOMLs/Q2sBNlIVAeTgk2LquMMak4JyjyAtM04Rt255A/LG0XZHzGe+nBs1o4azB1HACtpiPGRR9j+OAmQCxsgi1pCDm+FACRplpg6pTJuDUaBy5BOsdWDuj4CPOvURNuRMLql6jH5cEVFqTCv03MASP3c8dyrKEpd70k8GwOAyzBWsu2B1b7KsL9nmPpl3QLx6XWRHQJth/wNhcSU2PDY4hpYJUCoakLMriVM/4ONTIDhxCTNB0eVlkqvBL4OdA4pLaoxAGJUUVJXcWBzbgfGrRFAK8Myg6h258VqjUF8D4Upwqr3myg3UhSfdhg3d0UBeY+z264hsG9h1OnuDNQGpCGkgM55/WeUnWUaKxuF0dsAqKjjwkoIaMbHOEnU5YKcMw2q+x+Qn/rshJwFhqlmWoqjPCSt4SH6j4jiaZQ0tBQyrQdBlY+QNt/Y6LZNTfGcoq1P2ZosYoB2y37bdt4jBiyX71ZJUz8rokHwoE2ruYGXxoUXKWopMjbHCY5ESWyinowYG/KvwFtp9IAgMufY4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="setState path"
        title="setState path"
        src="/static/526466b4230193fcc2481e9afee5079e/dbb61/setState-path.png"
        srcset="/static/526466b4230193fcc2481e9afee5079e/19bd1/setState-path.png 163w,
/static/526466b4230193fcc2481e9afee5079e/d3bcb/setState-path.png 325w,
/static/526466b4230193fcc2481e9afee5079e/dbb61/setState-path.png 650w,
/static/526466b4230193fcc2481e9afee5079e/6b691/setState-path.png 975w,
/static/526466b4230193fcc2481e9afee5079e/91670/setState-path.png 1300w,
/static/526466b4230193fcc2481e9afee5079e/efcce/setState-path.png 2438w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>How does a functional component, without the <code class="language-text">render</code> method
re-render then?
Every time you call the <code class="language-text">set</code>ter function returned from
a hook, React is going to re-execute the function component
"function" again. </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7f0beefd413379767a1c310edea7c273/410aa/useState-lifecycle.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 94.09090909090908%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAABUUlEQVQ4y6WUh47DMAiG8/7P2ZVmL2eH40fmZLmxG90hUS/4goE6OY6DQnJ2FrOHJPgZjaGurmmZZ9q3jcZhoGkcxXnoOlqXRXTfd9G+bWUfull76Mw+AoRzXRRk+l6Mf+HsjP0iTWWcp0k+AmfYwBZAjH3TyEeTWPh6vXVd6aoIEKFnjwflzydlrIjEh2I8Uwii1HWCa2nOcAD4xDlFLhe+AvZgc1YUncNf5wkcAHAFgPz1kog1t26kX4GjBfpOuLpG92egmxsYusBQDoNAX3BVN38hOQViQxrXFgHrpiyltyQa29S7rajYsX4AsakN3VaVjABVeU6D3cMa2nHzosnT200aWYsVBJZZJmPFIxwBAfDNPZre77LG+dvODYO+5tCvov8Y+I1+uW1iYL+FPoE29FBrxPS0KPjbXXnrQo+HcYFXH84YUB8HAbqh/weq8x+7CtnDHzbTcgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="useState lifecycle"
        title="useState lifecycle"
        src="/static/7f0beefd413379767a1c310edea7c273/dbb61/useState-lifecycle.png"
        srcset="/static/7f0beefd413379767a1c310edea7c273/19bd1/useState-lifecycle.png 163w,
/static/7f0beefd413379767a1c310edea7c273/d3bcb/useState-lifecycle.png 325w,
/static/7f0beefd413379767a1c310edea7c273/dbb61/useState-lifecycle.png 650w,
/static/7f0beefd413379767a1c310edea7c273/6b691/useState-lifecycle.png 975w,
/static/7f0beefd413379767a1c310edea7c273/91670/useState-lifecycle.png 1300w,
/static/7f0beefd413379767a1c310edea7c273/410aa/useState-lifecycle.png 2200w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>The reason that you need to re-execute the entire component
function is such that you call the <code class="language-text">useState</code> hook again to
obtain the current state of the counter. </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e7c724b548c3566664ddf63e59ae8130/af534/useState-render.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 53.90625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz51TyU4CQRDlKz2ZoGEblGWGMRFGTDypJ+MPSeSqzDCAF8M6RD3IiSUw+7O6oRMGPKCVvHS96q5K1evuWBiG8H0fnudxuK7LOVsZD4IgCjq/zVk+M7HGWPJyucSu+ayYH+AQE8V4QeG8d7toNE202i10DB3m6wtMXUfHbKLdNGAQb+oNvHXaPNYxDehGA5PJd7TDNQlw9/CIk2wOslJAtVqBUipCvVBQvdagXZWRL+RQlPOcV7QytOolpLMU6vXn9UQ0KS8YbjQJCdjowjaFXswXh0UnAr+OzBIdx4FNWNk2bIJL/mI2g03aOqsVh0vxP2kYsK789a06VMhbLODO53DJZyvnrDDdvngB4hXsaciCN7f3OIonkJFSUElHKZtG9lxCSZUhk57JdALpTJLrqtC+ohYQPz1GrfYU1VBU//j8Qrc/wGDQx3g8xnA4IAxhWSOOfr/HY5ZlcT4i9Ho9TKfTaIfb8//X9jQUt7b3Kw7A7k/5AdXhK7hqfJCGAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="useState render"
        title="useState render"
        src="/static/e7c724b548c3566664ddf63e59ae8130/dbb61/useState-render.png"
        srcset="/static/e7c724b548c3566664ddf63e59ae8130/19bd1/useState-render.png 163w,
/static/e7c724b548c3566664ddf63e59ae8130/d3bcb/useState-render.png 325w,
/static/e7c724b548c3566664ddf63e59ae8130/dbb61/useState-render.png 650w,
/static/e7c724b548c3566664ddf63e59ae8130/6b691/useState-render.png 975w,
/static/e7c724b548c3566664ddf63e59ae8130/91670/useState-render.png 1300w,
/static/e7c724b548c3566664ddf63e59ae8130/af534/useState-render.png 3840w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<h3 id="application-hey-react-set-an-alarm-with-multiple-usestate"><a href="#application-hey-react-set-an-alarm-with-multiple-usestate" aria-label="application hey react set an alarm with multiple usestate permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🍏Application: "Hey React, Set an Alarm" with Multiple <code class="language-text">useState</code></h3>
<blockquote>
<p>Exercise: Can you implement a component that allow an user
to select time for an alarm with hooks?
An user should be able to increment or decrement the hour
and the minute using buttons.</p>
</blockquote>
<p><img src="/0ca710175b45bb8f765ebb38b6de76fd/alarm-demo.gif" alt="a demo of the alarm component"></p>
<p>In the previous exercise, you had to keep track of multiple states.
You have two options: 1) you keep an object with <code class="language-text">useState</code>, </p>
<ol start="2">
<li>you call <code class="language-text">useState</code> twice.</li>
</ol>
<p>If we go with option 1, the code would look like this.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SetAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>time<span class="token punctuation">,</span> setTime<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hour<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> minute<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// we ignore the fact that hour/minute cannot be negative</span>
  <span class="token keyword">const</span> <span class="token function-variable function">incrementHour</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    hour<span class="token punctuation">:</span> hour <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    minute
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">decrementHour</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    hour<span class="token punctuation">:</span> hour <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    minute
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">incrementMinute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    hour<span class="token punctuation">,</span>
    minute<span class="token punctuation">:</span> minute <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">decrementMinute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    hour<span class="token punctuation">,</span>
    minute<span class="token punctuation">:</span> minute <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Hour: </span><span class="token punctuation">{</span>time<span class="token punctuation">.</span>hour<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Minute: </span><span class="token punctuation">{</span>time<span class="token punctuation">.</span>minute<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>If you go with option 2, your code looks like this.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SetAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hour<span class="token punctuation">,</span> setHour<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>minute<span class="token punctuation">,</span> setMinute<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">incrementHour</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setHour</span><span class="token punctuation">(</span>hour <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">decrementHour</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setHour</span><span class="token punctuation">(</span>hour <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">incrementMinute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setMinute</span><span class="token punctuation">(</span>minute <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">decrementMinute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setMinute</span><span class="token punctuation">(</span>minute <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Hour: </span><span class="token punctuation">{</span>hour<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Minute: </span><span class="token punctuation">{</span>minute<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Using multiple <code class="language-text">setState</code> makes our code shorter and more
readable. It also makes more sense since <code class="language-text">hour</code> and <code class="language-text">minute</code>
are simply 2 separate counters that has no relationship with
each other. Keeping them in the same object within the same
state is not really necessary.</p>
<p>Notice what we have just said, they are 2 separate counters.
This implies they use the same logic.
We know one of the important property of functions is to help
us abstract and share logic. Can we abstract the counter logic
into its own independent functions?
Yes! </p>
<h3 id="introduction-to-custom-hooks"><a href="#introduction-to-custom-hooks" aria-label="introduction to custom hooks permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction to Custom Hooks</h3>
<p>Let's implement the counter logic in a function.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token parameter">initCount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> increment<span class="token punctuation">,</span> decrement<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now, let's use them within our alarm component.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SetAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>hour<span class="token punctuation">,</span> incrementHour<span class="token punctuation">,</span> decrementHour<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>minute<span class="token punctuation">,</span> incrementMinute<span class="token punctuation">,</span> decrementMinute<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Hour: </span><span class="token punctuation">{</span>hour<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Minute: </span><span class="token punctuation">{</span>minute<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementHour<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hour--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>decrementMinute<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">minute--</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We created the <code class="language-text">useCounter</code> function, which creates a state using <code class="language-text">useState</code>,
and returns the current state, and 2 setter functions to mutate the state.
<code class="language-text">useCounter</code> is a <strong>custom hook</strong>, which is a piece of logic that we composed
using the hooks function (in this case, <code class="language-text">useState</code>) that React provided. </p>
<p>That is the actual motivation of the new hooks API: sharing logic among
components. Think about using the class syntax, you will have to repeat the logic
for the counter, declare the increment and decrement function twice.
At this point, if you have another component that uses a counter, you
can simply reuse the <code class="language-text">useCounter</code> custom hook. </p>
<p>This is a really important pattern of logic sharing that React hooks syntax
is trying to get at. It changes how we fundamentally write and think about
React. If you don't get this now, don't worry. We will re-iterate again
with a more involved demo. </p>
<h3 id="useeffect-side-effect-in-function-component"><a href="#useeffect-side-effect-in-function-component" aria-label="useeffect side effect in function component permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">useEffect</code>: Side Effect in Function Component</h3>
<p>Let's go back to our first exercise.
We want to implement a counter with the initial value that depends on
a state on the server.
How would you go about that in function components with hooks?</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">CounterDependingOnServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// spoiler alert: this is WRONG!</span>
  <span class="token function">getInitialCounterValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">count++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This will trigger an infinite update loop.
When we first render the component, we will call the API
to get the initial counter state. Then, the callback calls
<code class="language-text">setCount</code>, which triggers a re-render…</p>
<p><img src="/36c25a109fa6dbfd193acc5e1f337f76/infinite-update.gif" alt="infinite update caused by side effects"></p>
<p>We want of think of the entire body of a function component
as the body of <code class="language-text">render</code> in a class component. If there were
side effects in <code class="language-text">render</code>, like <code class="language-text">setState</code>, it can cause
infinite update of our component. Therefore, side effects
are not allowed in the <code class="language-text">render</code> function, and should
also not be allowed in function component body also.</p>
<blockquote>
<p>Note: common side effects include data fetching,
setting up a subscription (think
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media query</a>),
and DOM updates.</p>
</blockquote>
<p>Think back on how you would do it in a class component.
You will give it a default state first in the constructor first,
and update it later in <code class="language-text">componentDidMount</code>.
<code class="language-text">componentDidMount</code> is responsible for executing code
with side effects. Can we use the same approach here?</p>
<p>To execute code after render in a function component,
we use the <code class="language-text">useEffect</code> hook.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// importing the hooks</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// inside the component</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span>functionWithSideEffect<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>When you pass a function to <code class="language-text">useEffect</code>,
React will execute the function after your component
is rendered every time.
However, we only want to execute it on the first render.
We can keep a state to indicate if we have called the API.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">CounterDependingOnServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>fetched<span class="token punctuation">,</span> setFetched<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fetched<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token function">getInitialCounterValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setFetched</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">count++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This works. But this is not the cleanest code.
We have an extra state that is only changed once.
We can actually supply an extra parameter to <code class="language-text">useEffect</code>
to say tell React we only want this side effect to be
executed once after the first render.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">CounterDependingOnServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">getInitialCounterValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// notice the second parameter we passed in here</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">count++</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>If you pass in an empty array, you are telling React
to only execute this once, making the <code class="language-text">useEffect</code> hook
just like <code class="language-text">componentDidMount</code>.</p>
<p>But why an empty array?
What happens if we pass in a non-empty array?
This array is called a dependency array, which
can help us optimize our application. </p>
<h3 id="application-applying-to-boogle-with-useeffect"><a href="#application-applying-to-boogle-with-useeffect" aria-label="application applying to boogle with useeffect permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🍏Application: "Applying to Boogle" with <code class="language-text">useEffect</code></h3>
<p>You work for Boogle, a tech company that really cares about
good applicant experience during job application. You are
writing a React application that let applicants input their
information, and back them up every time it is updated.</p>
<p>Let's forget about backing up for a second and build a
simple form.
First, we will need some state and input fields. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">ApplicationForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>school<span class="token punctuation">,</span> setSchool<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      Name: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      Email: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      School: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>school<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Then, we need a <code class="language-text">onChange</code> handler to capture the value
that user typed in.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">ApplicationForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>school<span class="token punctuation">,</span> setSchool<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateSchool</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSchool</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      Name:   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateName<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      Email:  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateEmail<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      School: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSchool<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>school<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Let's add a button to submit to application.
But before that, we also want to have a check box to make sure
the applicant agree with our terms and conditions
<del>that they are never gonna read</del>. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">ApplicationForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>agreeToTerms<span class="token punctuation">,</span> setAgreeToTerms<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>school<span class="token punctuation">,</span> setSchool<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateSchool</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSchool</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateAgreeToTerms</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> 
    <span class="token function">setAgreeToTerms</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onClickSubmitApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// an imaginary application submit function</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>agreeToTerms<span class="token punctuation">)</span>
      <span class="token function">submitApplication</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      Name:   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateName<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      Email:  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateEmail<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      School: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSchool<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>school<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setAgreeToTerms<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>agreeToTerms<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      By checking this box, you agree to our Terms and Conditions.
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClickSubmitApp<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">submit my application</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>At this point, you should have something that looks like
this (don't worry about CSS and layout):</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ea09327e413617fe5f1994f5c1ecee69/3f9be/boogle-demo.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.04255319148936%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAl0lEQVQoz5WQywrEIAxF/f+PcyviRtpSse668NGid4hMhhZGaAOHJBqTXAW+1lr7C989NeG9h9YapRSc54njODoU11qHg0aDxTzPkFIipXTblJq9MW4q9n2HUgrGGFhrO9M0Yds2rOvaY/KcX+FaUvfbMOcMkh1CwLIscM6Bzkg2FcYYu+f8CtURrKY3fPPhjySPLt/C7z7y4CPkjw7D9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="A demo of the boogle job application UI"
        title="A demo of the boogle job application UI"
        src="/static/ea09327e413617fe5f1994f5c1ecee69/dbb61/boogle-demo.png"
        srcset="/static/ea09327e413617fe5f1994f5c1ecee69/19bd1/boogle-demo.png 163w,
/static/ea09327e413617fe5f1994f5c1ecee69/d3bcb/boogle-demo.png 325w,
/static/ea09327e413617fe5f1994f5c1ecee69/dbb61/boogle-demo.png 650w,
/static/ea09327e413617fe5f1994f5c1ecee69/6b691/boogle-demo.png 975w,
/static/ea09327e413617fe5f1994f5c1ecee69/3f9be/boogle-demo.png 1128w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Now, we want to back up the applicant's input.
We want to back it up as frequently as possible.
As user update the value of any input fields,
we make a backup. We can define an imaginary backup
function like this.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// inside the component</span>
<span class="token keyword">const</span> <span class="token function-variable function">backupOnUpdate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">backup</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'data backed up!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>We can create a backup upon every keystroke by changing
our event listener functions to</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">backupOnUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">backupOnUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateSchool</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">setSchool</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">backupOnUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// we don't need to back up upon agreement</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateAgreeToTerms</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> 
 <span class="token function">setAgreeToTerms</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This violates the DRY principle.
We are repeating the back up code 3 times.
Is there an easy way to reduce the amount of code to
type in the class syntax, with the lifecycle
method <code class="language-text">componentDidUpdate</code>. Since this is called
when state is mutated, we can call <code class="language-text">backupOnUpdate</code>
in here.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
  <span class="token function">backup</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>What is the hook-equivalent of <code class="language-text">componentDidUpdate</code> then?
<code class="language-text">componentDidUpdate</code> is executed after each <code class="language-text">render</code>, so is
the <code class="language-text">useEffect</code> hook!
We can put our update function into <code class="language-text">useEffect</code>.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">ApplicationForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>agreeToTerms<span class="token punctuation">,</span> setAgreeToTerms<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>school<span class="token punctuation">,</span> setSchool<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateSchool</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSchool</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateAgreeToTerms</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> 
    <span class="token function">setAgreeToTerms</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onClickSubmitApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>agreeToTerms<span class="token punctuation">)</span>
      <span class="token function">submitApplication</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// componentDidUpdate</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">backup</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      Name:   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateName<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      Email:  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateEmail<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      School: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSchool<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>school<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setAgreeToTerms<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>agreeToTerms<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token plain-text">
      By checking this box, you agree to our Terms and Conditions.
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClickSubmitApp<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">submit my application</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This will back up the data upon every keystroke.
However, do you think this make too many backups?
Consider the user clicking the checkbox to accept the
"Terms and Conditions". It will trigger a render,
since we use a state setter function (<code class="language-text">setXXX</code>). It will
trigger <code class="language-text">useEffect</code> but none of the data (<code class="language-text">name</code>, <code class="language-text">email</code>,
<code class="language-text">school</code>) that requires back up has changed. </p>
<p>We want to tell React to only execute <code class="language-text">useEffect</code> only when
the data that needs to back up has changed. The second parameter
for <code class="language-text">useEffect</code> is called the <em>dependency array</em>. <code class="language-text">useEffect</code>
will execute only if any of the value has changed. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">backup</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If any value of the variable <code class="language-text">name</code>, <code class="language-text">email</code> and <code class="language-text">school</code> changes,
the <code class="language-text">useEffect</code> callback will be executed and performs a backup.
This way, we skipped unnecessary backups that can take up
resources like bandwidth, CPU, memory and such.</p>
<p>Now look back to the pattern of using <code class="language-text">useEffect</code> as
<code class="language-text">componentDidMount</code>, we pass in an empty array as the dependency.
That means that "all" the value in the array will never change,
since there are no values. Therefore, the <code class="language-text">useEffect</code> callback
will only execute on the initial render, acting like
<code class="language-text">componentDidMount</code>.</p>
<p>Let's validate by writing a mock <code class="language-text">backup</code> function. </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">backup</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'back up!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><img src="/99fc3c7f60b353908ef3e93a86647a94/useEffect-dep-demo.gif" alt="demo of dependency array in useEffect"></p>
<p>For more information, take a look at the official
documentation for React:
<a href="https://reactjs.org/docs/hooks-effect.html#tip-optimizing-performance-by-skipping-effects">Optimizing Performance by Skipping Effects</a>.</p>
<hr>
<p>At this point, you can successfully migrate 80% of your
class components to function components, using a simple
mapping from the old lifecycle method to the new hooks API.</p>
<table>
<thead>
<tr>
<th align="center"><code class="language-text">class</code> component</th>
<th align="center"><code class="language-text">function</code> component</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code class="language-text">this.setState</code>, <code class="language-text">this.state</code></td>
<td align="center"><code class="language-text">useState</code></td>
</tr>
<tr>
<td align="center"><code class="language-text">componentDidMount</code></td>
<td align="center"><code class="language-text">useEffect(cb, [])</code></td>
</tr>
<tr>
<td align="center"><code class="language-text">componentDidUpdate</code></td>
<td align="center"><code class="language-text">useEffect(cb, dependencies)</code></td>
</tr>
</tbody>
</table>
<h2 id="2-rules-of-hooks"><a href="#2-rules-of-hooks" aria-label="2 rules of hooks permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2 Rules of Hooks</h2>
<p>When you are using hooks, you have to follow 2 rules:</p>
<ol>
<li>Only call hooks at the top level</li>
<li>Only call hooks from function components and custom hooks</li>
</ol>
<p>Read about them here: <a href="https://reactjs.org/docs/hooks-rules.html">https://reactjs.org/docs/hooks-rules.html</a>.
Focus on the explanation section.</p>
<p>After reading the explanation, can you answer the following questions?</p>
<ol>
<li>When <code class="language-text">useState</code> is called, how does React know which state to return?</li>
<li>Can you call hooks from a class component? Why?</li>
<li>How do you use a hook with a class component (think "out of the box")?</li>
</ol>
<h3 id="a-list-model-of-keeping-states"><a href="#a-list-model-of-keeping-states" aria-label="a list model of keeping states permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A List Model of Keeping States</h3>
<blockquote>
<p>When <code class="language-text">useState</code> is called, how does React know which state to return?</p>
</blockquote>
<p>The only data passed to <code class="language-text">useState</code> is the initial state, which
does not contain enough information for React to determine which
state the component wants.</p>
<p>To answer this question, we look at the first rule of hooks.
If hooks are guaranteed to be called at the top level, that means
the hooks will not be inside <code class="language-text">if</code>-statements or loops or any other
kind of conditional construct.
If such condition is met, the hooks will run in a linear and deterministic manner.
In other words,</p>
<ul>
<li>Linear: we know in what order will the hooks be called</li>
<li>Deterministic: we know how many times will the hooks be called</li>
</ul>
<p>With nice properties, React can simply keep track of the state for
a component in an array. When <code class="language-text">useState</code> is called the <em>n</em><sup>th</sup> time, React can
return the <em>n</em><sup>th</sup> element from the array.
Therefore, the first rule of hooks is very important in the design
of the hooks pattern.</p>
<p>Question 2 and 3 is left as an exercise to the reader.
You can find the answer here:
<a href="https://infinum.co/the-capsized-eight/how-to-use-react-hooks-in-class-components">https://infinum.co/the-capsized-eight/how-to-use-react-hooks-in-class-components</a></p>
<h2 id="application-power-of-hooks-with-debouncing"><a href="#application-power-of-hooks-with-debouncing" aria-label="application power of hooks with debouncing permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🍏Application: "Power of Hooks" with Debouncing</h2>
<p>"Debouncing" is a rate-limiting technique to reduce the frequency
of execution of time-consuming tasks.
Some examples include live spell-checking, search suggestion, etc.</p>
<p><img src="/0dd56e7d06843a69ebbae423f0cc8fc7/debounce-demo.gif" alt="debounce demo on google.com"></p>
<p>Notice the delay in the suggestion popping up after I type some
characters into Google. The motivation of debouncing is quite
easy to understand: we save useless computation that the user
probably won't need. For instance, there is no point to
return a list of suggestion for the search keyword "reac"
when the user will finish typing in less than 100ms and actually
search for the keyword "react".</p>
<p><img src="/c461a22a1d2bd1354f31a5fb4d8bb815/searchbar-demo.gif" alt="demo of finished search bar"></p>
<p>Let's see how we can implement a search bar with debouncing.
First, a mock function to emulate a suggestion algorithm.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'How to '</span> <span class="token operator">+</span> input<span class="token punctuation">,</span>
    input <span class="token operator">+</span> <span class="token string">' with my grandma'</span><span class="token punctuation">,</span>
    <span class="token string">'What is '</span> <span class="token operator">+</span> input<span class="token punctuation">,</span>
    <span class="token string">'Who is '</span> <span class="token operator">+</span> input<span class="token punctuation">,</span>
    input <span class="token operator">+</span> <span class="token string">' in Los Angeles'</span><span class="token punctuation">,</span>
    <span class="token string">'free '</span> <span class="token operator">+</span> input<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// shuffle the result a bit</span>
  results<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> results<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here is an outline of how debouncing works:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">when &quot;value&quot; is updated (from typing):
  if an &quot;action&quot; is scheduled previously
    cancel the &quot;action&quot;

  schedule an &quot;action&quot; to execute after a given delay</code></pre></div>
<p>In other words, debouncing will execute the "action"
if the "value" has not updated for some amount of delay.</p>
<h3 id="settimeout-and-cleartimeout"><a href="#settimeout-and-cleartimeout" aria-label="settimeout and cleartimeout permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">setTimeout</code> and <code class="language-text">clearTimeout</code></h3>
<p>We already know how to trigger a side-effect when a
value is updated with <code class="language-text">useEffect</code>. But how do we delay
the side effect?
In JavaScript, we can schedule callback to execute after
a delay using <code class="language-text">setTimeout</code>, which returns a timer handle
that can be used to cancel the task with <code class="language-text">clearTimeout</code>.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timeout in 500ms'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> timerID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'will be cancelled'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerID<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> timerID2 <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'will be cancelled before firing'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'cancelling timerID2 100ms before it is executed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerID2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output: </span>
<span class="token comment">// timeout in 500ms</span>
<span class="token comment">// cancelling timerID2 100ms before it is executed</span></code></pre></div>
<p>Knowing the <code class="language-text">setTimeout</code> mechanism, we can now implement a search
bar that is debounced!</p>
<h3 id="implementation"><a href="#implementation" aria-label="implementation permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation</h3>
<p>We start with a simple search bar without debouncing.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Let's implement our debouncing logic. We know that we want
to execute it when the value of <code class="language-text">search</code> has changed. Using
<code class="language-text">useEffect</code>, we can execute <code class="language-text">getSearchSuggestions</code> when
<code class="language-text">search</code> is udpated.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// get search suggestions…</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setSuggestions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// when search is updated</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// display the suggestions</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token comment">// …</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span></code></pre></div>
<p>Now, we delay the operation by a given amount of delay.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// delay getting search suggestions</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// by 500ms</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>However, this will only delay all get search suggestions
operations by 250ms, because we never cancel the previous
operation.
To implement our debouncing logic, we need to keep a
timer state, so we can cancel it later with <code class="language-text">clearTimeout</code>.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>timer<span class="token punctuation">,</span> setTimer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// cancel previous operation </span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There you go. You have a working debounced search bar.</p>
<h3 id="cleaning-up-useeffect"><a href="#cleaning-up-useeffect" aria-label="cleaning up useeffect permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cleaning up <code class="language-text">useEffect</code></h3>
<p>However, the logic is convoluted since we now keep track of
an extra state of <code class="language-text">timer</code> just for the cancelling the
previous scheduled operation.
We are cleaning up after side effects of the previous
<code class="language-text">useEffect</code>.
In fact, this pattern is common enough that the React
team decides to make an API for it.
In the callback of <code class="language-text">useEffect</code>, you can return a function
that will help you clean up. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setSuggestions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>The clean up function will be called before the next
<code class="language-text">useEffect</code> callback is triggered.</strong>
Now the code is simpler since we can get rid of the
<code class="language-text">timer</code> state variable.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here is a question for you:</p>
<blockquote>
<p>Can we use an async function as the first parameter
to <code class="language-text">useEffect</code>?</p>
</blockquote>
<h3 id="abstract-reuse-custom-hook"><a href="#abstract-reuse-custom-hook" aria-label="abstract reuse custom hook permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abstract, Reuse, Custom Hook</h3>
<p>Debouncing is a fairly complex piece of logic.
However, with the power of react hooks, we can abstract
and reuse this piece of logic very easily.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> action<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> action<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> action<span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateSuggestion</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// this one line implements a debounce logic!!!!</span>
  <span class="token function">useDebounce</span><span class="token punctuation">(</span>search<span class="token punctuation">,</span> updateSuggestion<span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Another way of implementing the <code class="language-text">useDebounce</code> hook
is to return the debounced value. </p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>debounced<span class="token punctuation">,</span> setDebounced<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setDebounced</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> delay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> debounced<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>In this implementation, we debounce the value of the
<code class="language-text">debounced</code> state variable, and return that to the caller
of this hook. Here is a question for you. </p>
<blockquote>
<p>How do we debounce callback with this
implementation of <code class="language-text">useDebounce</code>?</p>
</blockquote>
<p>We can use <code class="language-text">useEffect</code>. <code class="language-text">useEffect</code> is called when
its dependency variable changes. Since the update
to the <code class="language-text">debounced</code> variable is debounced, we can
let a <code class="language-text">useEffect</code> callback depends on that variable.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> setSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateSearch</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>suggestions<span class="token punctuation">,</span> setSuggestions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> debouncedSearch <span class="token operator">=</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span>search<span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">getSearchSuggestions</span><span class="token punctuation">(</span>debouncedSearch<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setSuggestions</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>debouncedSearch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateSearch<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>suggestions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To show you why this is easy to reuse, I am going to
build a spell checker.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SpellChecker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>word<span class="token punctuation">,</span> setWord<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">updateWord</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setWord</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isCorrect<span class="token punctuation">,</span> setIsCorrect<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> debouncedWord <span class="token operator">=</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">spellCheck</span><span class="token punctuation">(</span>debouncedWord<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">correct</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setIsCorrect</span><span class="token punctuation">(</span>correct<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>debouncedWord<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateWord<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>word<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>isCorrect <span class="token operator">?</span> <span class="token string">'Correct'</span> <span class="token punctuation">:</span> <span class="token string">'Wrong'</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>For building any component with debouncing, we can
just use the <code class="language-text">useDebounce</code>.
With hooks, we can share the debounce logic among
different components. In fact, you can make your
code into a package and publish it online for other
people to use it!
(Check out rehooks.com. It is a collection of hooks
that has been published as NPM packages.)</p>
<h3 id="whats-wrong-with-the-old-class-way"><a href="#whats-wrong-with-the-old-class-way" aria-label="whats wrong with the old class way permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What's Wrong with the Old <code class="language-text">class</code> Way?</h3>
<p>In a <code class="language-text">class</code> component, logic can be distributed across
multiple lifecycle methods.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3365b3177652c55e89c543a3b78754cd/5e575/spread-out-logic.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 109.55259975816203%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC2UlEQVQ4y4VU21bbMBDMR1Bsy5ZvkmXLtySEFmgJbTk9/f8/ms7KIYQQ6MPIjh2NRzuzu9JVAW0tOt+gHzqihbFVeKYbh9Y79H0L1xpMcw/fO1R1jkwnUGmENIvfYJXmKQpTwboKrjNoOwvTVHxWIitz6ILvywx5mQainL91rsLmi4QZl+dfe/z984zH7/d4/v2Ep/137G5mDFTTNDXcAcu9QUqiF7Jz0lXGL48/d5h+7TA8rOHvJrgbj2bdot16tDdn2PVIPzjugZDyNzWu5wKR14i6DFGbIW5SIkPizsB3SjaLykuEsljWxrBOdZXB8N7aAmWlUbBeaRaFzUeo6+V6RvSieCXyp4d73DztMd1/w3b/iNv9D/TbGXXfIaVhaV2+wtZBWUJidajlaT1JqBAPE+JxRtx5xP2AyBjEJFKWBjT2LVoXaijOZ3Q7D6c4VchFMpXpl2sS/pgxTqnEQ6tAsEAFdRKbYezQuBqWzgvpkVAINP8YxVeITxBFV0jiL0gSHk3qpqJwlY2utZjXA9abKTSC4HhkIRxmj3kzYN6OAROxuZ3hpxZ1w7oVVJkzKoSoloDXpggwtqRSc+ycYEr94GEfB9g7D7NzRItm26KaDfKBhF1OaNZPI+sLVCSSFpR2lM5quwZ5vhx7pUiYbHqor2uoLa9Up0bHvNFNbwga0QuaBQM305BS2vHQhhKxNwr1NCMd11TBLuhHpI5OisMcEO9Ap1UaH+t5Hp1QQ4mAkgCLkxLUg6Ov7r66nB665FLbLUfmIq4myZflq6ETro/373AS4svji8s4DxgmT0crlHUBJUpCDi/gk8FwnIfV7hbl1zvoeY2MUN4vXeGat5BnnWTuk2mj+FKzndx6gh0HVD2V+g6qZEw4zd9B+vmD4boQsi45rTf8uoS0qhkHCfFLLc9xVsf385A9XHLca+uQVQxwcTI9PqjTpwqljSScSXJ1cO7zDf/DP0GDV3J9Xg/fAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="demonstration of spread out logic in class component"
        title="demonstration of spread out logic in class component"
        src="/static/3365b3177652c55e89c543a3b78754cd/dbb61/spread-out-logic.png"
        srcset="/static/3365b3177652c55e89c543a3b78754cd/19bd1/spread-out-logic.png 163w,
/static/3365b3177652c55e89c543a3b78754cd/d3bcb/spread-out-logic.png 325w,
/static/3365b3177652c55e89c543a3b78754cd/dbb61/spread-out-logic.png 650w,
/static/3365b3177652c55e89c543a3b78754cd/6b691/spread-out-logic.png 975w,
/static/3365b3177652c55e89c543a3b78754cd/91670/spread-out-logic.png 1300w,
/static/3365b3177652c55e89c543a3b78754cd/5e575/spread-out-logic.png 1654w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>It is hard to abstraction the logic out to a reusable
standalone component/function.</p>
<p>However, the logic is compact with hooks.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/eeb889b17dd4f640799568138128fa75/034de/compact-logic.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 92.39690721649485%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABp0lEQVQ4y5WU7VaDMAxA9xC6tU2/W2A7w6nofP83i0lbJniU6Y97Qkq5pCllF7uMw+UZu/OI/Tji63TB9+uE148Jp7cXfLqc8TyesB8SxuQwZU9xDY8Zq1DBAXeZEoA9GiNQa4GKoZxvMkA5o40sD32Hx60DkoYqZDsPDMeMx1NXKmHB8dRjiBal2pd8fsFP8H323IT8lrkCjnyDr3kiC7dkEvZrYd9HWi6VbYFQDVjE+3inMc9L9p3DMHgMva+R8H3L+/X1T/j2nA26Cg8DoHAChZctNoL8G/xcJDqgzSWhzFB3NiiUNFhyK1EmVa5BHspEUBtwr/NS6EgQVYVFJC9jFHmSmj+n3zBLIZeqvlUBixzusxbmttTfyH+A5inqZxWGiNL7hqsxhBbb9SY8pzpuQu6DtAals0WqNH3cztBSvnq4uWQti7wJQxWRWMSEInUk4k1KRc7n/G4PuaBVhfKhoh4JPlLt7N7b3dsuLyoUVJ0+jmjGqUQY6AUpFL76uEHrObeoCGOy6GJAw3iS02kBc6jA/+Bqd+WvwklZ7vxnERX9P9jzCf033+Bnc2teAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="demonstration of compact logic in function component"
        title="demonstration of compact logic in function component"
        src="/static/eeb889b17dd4f640799568138128fa75/dbb61/compact-logic.png"
        srcset="/static/eeb889b17dd4f640799568138128fa75/19bd1/compact-logic.png 163w,
/static/eeb889b17dd4f640799568138128fa75/d3bcb/compact-logic.png 325w,
/static/eeb889b17dd4f640799568138128fa75/dbb61/compact-logic.png 650w,
/static/eeb889b17dd4f640799568138128fa75/6b691/compact-logic.png 975w,
/static/eeb889b17dd4f640799568138128fa75/91670/compact-logic.png 1300w,
/static/eeb889b17dd4f640799568138128fa75/034de/compact-logic.png 1552w"
        sizes="(max-width: 650px) 100vw, 650px"
        loading="lazy"
      />
  </a>
    </span></p>
<p>If the code that belongs to the same object is close
together, it is easy to abstract them into their own
custom hooks or functions. The new pattern enables
you to play with logic as LEGO blocks and insert them
into any place you want. </p>
<p>You can read about the motivation behind the new hooks API
from the React team: <a href="https://reactjs.org/docs/hooks-intro.html#motivation">https://reactjs.org/docs/hooks-intro.html#motivation</a></p>
<h2 id="final-challenge"><a href="#final-challenge" aria-label="final challenge permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Final Challenge</h2>
<p>I am going to build a counter that increments itself every X second.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SelfIncrementingCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<blockquote>
<p>Note: <code class="language-text">setInterval</code> schedule a callback to execute
for some interval. In this case, <code class="language-text">setCount</code> is called
every 200 ms.</p>
</blockquote>
<p>But this implementation does not work. Can you explain what is the
wrong behavior? </p>
<details>
<summary>Click to see answer</summary>
<p><img src="/a538e958fb7f51140c070f4c17f92a84/final-challenge-wrong-1.gif" alt="glitching behavior of counter"></p>
<p><code class="language-text">useEffect</code> is called on every render, since there is no
dependency array specified.
Each time <code class="language-text">useEffect</code> is executed, it start a repeated scheduled task.
The number of repeated scheduled tasks grows exponentially.
There are races between the different tasks leading to a glitch.</p>
</details>
<p>The previous attempt failed. I try again, passing an empty
dependency array such that the <code class="language-text">useEffect</code> callback is only
executed once after the first render (like <code class="language-text">componentDidMount</code>).</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">SelfIncrementingCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// added empty dependency array here</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Does this work? (Hint: it does not) Why?</p>
<p>This one might be a bit hard.
Here is some hint:</p>
<ul>
<li>There can be multiple copies of <code class="language-text">count</code>. Why?</li>
<li>There can be multiple versions of the callback function
passed to <code class="language-text">useEffect</code>, which one does <code class="language-text">useEffect</code> use?</li>
<li>In the executed version of callback function, which
copy of <code class="language-text">count</code> is the <code class="language-text">count</code> referring to?</li>
</ul>
<p>Now we know that it works, can we implement a version
that works? Hint: the setter <code class="language-text">setXXX</code> function for state
can also takes a function as a parameter.</p></div></article><footer class="jss144"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiGrid-root jss145 MuiGrid-container MuiGrid-spacing-xs-1"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><div class="jss147">Find us on social media</div><div class="jss146"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://www.facebook.com/groups/acmhack/" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 33 32" fill="none" class="jss254"><path d="M31.195 0H1.818C.812 0 0 .787 0 1.762v28.463c0 .975.812 1.762 1.818 1.762h15.81V19.6h-4.307v-4.825h4.307v-3.563c0-4.137 2.605-6.387 6.41-6.387 1.818 0 3.39.138 3.842.188v4.325h-2.643c-2.064 0-2.463.95-2.463 2.35v3.087h4.939l-.645 4.825h-4.294V32h8.408C32.187 32 33 31.212 33 30.238V1.762C33.013.787 32.2 0 31.195 0z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://github.com/uclaacm/" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 33 33" fill="none" class="jss254"><path d="M16.5 0C7.386 0 0 7.408 0 16.548c0 7.317 4.73 13.51 11.28 15.708.824.155 1.12-.362 1.12-.802 0-.4-.012-1.694-.025-3.077-4.576.996-5.543-1.952-5.543-1.952-.748-1.913-1.83-2.418-1.83-2.418-1.496-1.02.116-1.008.116-1.008 1.662.117 2.526 1.707 2.526 1.707 1.47 2.534 3.854 1.797 4.796 1.37.141-1.073.58-1.797 1.044-2.21-3.661-.414-7.516-1.837-7.516-8.184 0-1.81.645-3.284 1.702-4.447-.168-.414-.735-2.095.155-4.383 0 0 1.379-.44 4.537 1.693a15.716 15.716 0 014.125-.555c1.405 0 2.81.194 4.138.555 3.145-2.146 4.538-1.693 4.538-1.693.902 2.275.335 3.969.167 4.383 1.057 1.163 1.702 2.637 1.702 4.447 0 6.36-3.855 7.757-7.529 8.17.593.517 1.122 1.526 1.122 3.064 0 2.211-.013 3.995-.013 4.538 0 .44.297.957 1.135.789C28.282 30.058 33 23.853 33 16.548 33 7.408 25.614 0 16.5 0zM6.175 23.568c-.04.077-.168.103-.284.052-.116-.052-.18-.168-.142-.246.039-.09.168-.103.284-.052.116.052.193.168.142.246zm.812.737c-.078.077-.232.039-.335-.078-.104-.116-.13-.271-.052-.349.077-.077.232-.038.335.078.116.116.142.271.052.349zm.567.918c-.103.064-.27 0-.374-.142-.103-.143-.103-.324 0-.401.103-.065.27-.013.374.142.103.155.103.336 0 .4zm.94 1.086c-.09.103-.283.077-.424-.065-.142-.13-.18-.323-.09-.427.09-.103.283-.077.425.065.141.13.18.323.09.427zm1.213.362c-.039.129-.22.194-.413.129-.18-.052-.31-.207-.27-.336.038-.13.219-.194.412-.13.193.052.31.207.27.337zm1.379.155c0 .142-.155.245-.348.258-.194 0-.361-.103-.361-.245 0-.142.155-.246.348-.259.206 0 .36.104.36.246zm1.366-.052c.026.13-.116.272-.309.31-.193.04-.374-.051-.4-.18-.025-.143.116-.272.31-.31.206-.04.374.038.4.18z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://medium.com/techatucla" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 42 33" fill="none" class="jss254"><path d="M4.909 6.733c.063-.508-.159-1.016-.539-1.365L.538.698V0h12.035l9.31 20.454L30.023 0h11.464v.699L38.16 3.875a1.034 1.034 0 00-.38.921v23.408c-.063.35.095.699.38.921l3.23 3.176V33H25.115v-.699l3.357-3.271c.316-.318.316-.413.316-.921V9.21l-9.31 23.726H18.21L7.41 9.21v15.912a2.131 2.131 0 00.602 1.81l4.339 5.337v.698H0v-.699l4.37-5.304c.475-.476.665-1.175.57-1.81V6.733h-.03z" fill="#fff"></path></svg></span></button></a><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://twitter.com/uclaacm" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg viewBox="0 0 41 33" fill="none" class="jss254"><path d="M40.469 3.911A16.503 16.503 0 0135.7 5.222a8.367 8.367 0 003.653-4.61 16.582 16.582 0 01-5.271 2.02A8.268 8.268 0 0028.019 0c-4.586 0-8.304 3.729-8.304 8.328 0 .655.075 1.29.214 1.902-6.9-.344-13.018-3.664-17.111-8.693a8.279 8.279 0 00-1.125 4.19 8.329 8.329 0 003.696 6.931 8.276 8.276 0 01-3.76-1.042v.107c0 4.03 2.86 7.394 6.653 8.167a8.132 8.132 0 01-2.185.29c-.536 0-1.05-.053-1.565-.15 1.061 3.31 4.125 5.717 7.758 5.781A16.605 16.605 0 011.982 29.38c-.664 0-1.328-.043-1.982-.119A23.434 23.434 0 0012.729 33c15.268 0 23.615-12.69 23.615-23.683 0-.366-.011-.72-.022-1.075a17.47 17.47 0 004.147-4.33z" fill="#fff"></path></svg></span></button></a></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><div>uclaacmhack@gmail.com</div><div class="jss150">© ACM Hack</div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4"><a class="jss149" href="http://eepurl.com/c5pE6P" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedSecondary jss148" tabindex="0" type="button"><span class="MuiButton-label">Join ACM’s Mailing List</span></button></a></div></div></div></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/fall2019/js-chats-3/";window.webpackCompilationHash="f9362736c84008a66dd1";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-eddf4b20a4d1fb943b63.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-67618fca75d5df140e19.js"],"component---src-components-post-post-template-js":["/component---src-components-post-post-template-js-27804ab286c1c5f8ca97.js"],"component---src-components-blogpage-blogpagetemplate-js":["/component---src-components-blogpage-blogpagetemplate-js-8ccf53bf1a76dbeaf8d8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-24812a848581dce908fc.js"],"component---src-pages-events-js":["/component---src-pages-events-js-d103aef88737b3bebe49.js"],"component---src-pages-index-js":["/component---src-pages-index-js-24d1ebb352f468d235aa.js"],"component---src-pages-team-js":["/component---src-pages-team-js-c6fb0faaafb91d180934.js"]};/*]]>*/</script><script src="/component---src-components-post-post-template-js-27804ab286c1c5f8ca97.js" async=""></script><script src="/styles-3e6a32f1af22fd52bc9e.js" async=""></script><script src="/commons-39c98e705df38392c54e.js" async=""></script><script src="/app-eddf4b20a4d1fb943b63.js" async=""></script><script src="/webpack-runtime-0442aeab7bddbfeded27.js" async=""></script></body></html>